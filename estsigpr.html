<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Edinburgh Speech Tools: Signal Processing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="est.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Edinburgh Speech Tools
   &#160;<span id="projectnumber">2.1-release</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('estsigpr.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Signal Processing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The EST signal processing library provides a set of standard signal processing tools designed specifically for speech analysis. The library includes:</p>
<ul>
<li>Windowing (creating frames from a continuous waveform)</li>
<li>Linear prediction and associated operations</li>
<li>Cepstral analysis, both via lpc and DFT.</li>
<li>Filterbank analysis</li>
<li>Frequency warping including mel-scaling</li>
<li>Pitch tracking</li>
<li>Energy and Power analysis</li>
<li>Spectrogram Generation</li>
<li>Fourier Transforms</li>
<li>Pitchmarking (of laryngograph signals)</li>
</ul>
<h1><a class="anchor" id="estsigproverview"></a>
Overview</h1>
<h2><a class="anchor" id="estsigprdesign"></a>
Design Issues</h2>
<p>The signal processing library is designed specifically for speech applications and hence all functions are written with that end goal in mind. The design of the library has centered around building a set of commonly used easy to configure analysis routines.</p>
<ul>
<li><p class="startli"><b>Speed</b>: We have tried to make the functions as fast as possible. Signal processing can often be time critical, and so it will always be the case that if the code for a particular signal processing algroithm is written in a single function loop it will run faster than by using libraries.</p>
<p class="startli">However, the signal processing routines in the EST library are in general very fast, and the fact that they use classes such as <a class="el" href="classEST__Track.html">EST_Track</a> and <a class="el" href="classEST__FVector.html" title="A vector class for floating point numbers. EST_FVector x should be used instead of float *x wherever ...">EST_FVector</a> does not make them slower than they would be if <code>float *</code> etc was used.</p>
</li>
<li><p class="startli"><b>types</b>: The library makes heavy use of a small number of classes, specifically <a class="el" href="classEST__Wave.html" title="A class for storing digital waveforms. The waveform is stored as an array of 16 bit shorts...">EST_Wave</a>, <a class="el" href="classEST__Track.html">EST_Track</a> and <a class="el" href="classEST__FVector.html" title="A vector class for floating point numbers. EST_FVector x should be used instead of float *x wherever ...">EST_FVector</a>. These classes are basically arrays and matrices, but take care of issues such as memory managment, error handling and file i/o. Using these classes in the library helps facilitate clean and simple algorithm writing and use. It is strongly recommended that you gain familiarity with these classes before using this part of the library.</p>
<p class="startli">At present, the issue of complex numbers in signal processing is somewhat fudged, in that a vector of complex numbers is represented by a vector of real parts and a vector of imaginary parts, rather than as a single vector of complex numbers.</p>
</li>
</ul>
<h2><a class="anchor" id="estsigprcommonprocessing"></a>
Common Processing model</h2>
<p>In speech, a large number of algorithms follow the same basic model, in which a waveform is analysed by an algorithm and a Track, containing a series of time aligned vectors is produced. Regardless of the type of signal processing, the basic model is as follows:</p>
<ol type="1">
<li>Start with a waveform and a series of analysis positions, which can be a fixed distance apart of specified by some other means.</li>
<li>For each analysis position, define a small portion of the waveform around that position, Multiply this by a windowing function to produce a vector of speech samples.</li>
<li>Pass this to a frame based signal processing routine which outputs values in another vector.</li>
<li>Add this vector to a position in an <a class="el" href="classEST__Track.html">EST_Track</a> which correponds to the analysis time position.</li>
</ol>
<p>Given this model, the signal processing library breaks down into a number of different types of function:</p>
<ul>
<li><b>Utterance based functions</b>: Functions which operate on an entire waveform or track. These break down into:<ul>
<li><b>Analysis Functions</b>: which take a waveform and produce a track</li>
<li><b>Synthesis Functions</b>: which take a track and produce a waveform</li>
<li><b>Filter Functions</b>: which take a waveform and produce a waveform</li>
<li><b>Conversion Functions</b>: which take a track and produce a track</li>
</ul>
</li>
<li><b>Frames based functions</b>: Functions which operate on a single frame of speech or vector coefficients.</li>
<li><b>Windowing functions</b>: which create a windowed frame of speech from a portion of a waveform.</li>
</ul>
<p>Nearly all functions in the signal processing library belong to one of the above listed types. Quite often functions are presented on both the utterance and frame level. For example, there is a function called <a class="el" href="group__LinearPredictionfunctions.html#gac0c36181f1d9e21991133b26401a5146">sig2lpc</a> which takes a single frame of windowed speech and produces a set of linear prediction coefficients. There is also a function called <a class="el" href="group__Functionsforusewithframebasedprocessing.html#gaa030f43671e9262f612851eb5885b957">sig2coef</a> which performs linear prediction on a whole waveforn, returning the answer in a Track. <a class="el" href="group__Functionsforusewithframebasedprocessing.html#gaa030f43671e9262f612851eb5885b957">sig2coef</a> uses the common processing model, and calls <a class="el" href="group__LinearPredictionfunctions.html#gac0c36181f1d9e21991133b26401a5146">sig2lpc</a> as the algorithm in the loop.</p>
<p>Partly for historical reasons some functions, e.g. <a class="el" href="group__PitchF0DetectionAlgorithmfunctions.html#ga09d90eaccdf4ea1688ec173852bd94c0">pda</a> are only available in the utterance based form.</p>
<p>When writing signal processing code for this library, it is often the case that all that needs to be written is the frame based algorithm, as other algorithms can do the frame shifting and windowing operations.</p>
<h2><a class="anchor" id="estsigprtrackalloc"></a>
Track Allocation, Frames, Channels and sub-tracks</h2>
<p>The signal processing library makes extensive use of the advanced features of the track class, specifically the ability to access single frames and channels.</p>
<p>Given a standard multi-channel track, it is possible to make a FVector point to any single frame or channel - this is done by an internal pointer mechanism in <a class="el" href="classEST__FVector.html" title="A vector class for floating point numbers. EST_FVector x should be used instead of float *x wherever ...">EST_FVector</a>. Furthermore, a track can be made to point to a selected number of channels or frames in a main track.</p>
<p>For example, imagine we have a function that calculates the covariance matrix for a multi-dimensional track of data. But the data we actually have contains energy, cepstra and delta cepstra. It is non-sensical to calculate convariance on all of this, we just want the cepstra. To do this we use the sub-track facility to set a temporary track to just the cepstral coefficients and pass this into the covariance function. The temporary track has smart pointers into the original track and hence no data is copied.</p>
<p>Without this facility, either you would have to do a copy (expensive) or else tell the covariance function which part of the track to use (hacky).</p>
<p>Extensive documentation describing this process is found in <a class="el" href="sigpr-example.html#sigpr-example-frames">Frame based signal processing</a>, <a class="el" href="EST_Track-example.html#tr_example_access_multiple_frames">Access multiple frames or channels.</a> and <a class="el" href="EST_Track-example.html#tr_example_access_single_frames">Access single frames or single channels.</a>.</p>
<h1><a class="anchor" id="estsigprfunctions"></a>
Functions</h1>
<h2><a class="anchor" id="est-sigpr-generating-frames"></a>
Functions for Generating Frames</h2>
<p>The following set of functions perform either a signal processing operation on a single frame of speech to produce a set of coefficients, or a transformation on an existing set of coefficients to produce a new set. In most cases, the first argument to the function is the input, and the second is the output. It is assumed that any input speech frame has already been windowed with an appropriate windowing function (eg. Hamming) - see "Windowing mechanisms" on how to produce such a frame. See also <a class="el" href="estsigpr.html#sigpr-track-func">Functions for Generating Tracks</a>.</p>
<p>It is also assumed that the output vector is of the correct size. No resizing is done in these functions as the incoming vectors may be subvectors of whole tracks etc. In many cases (eg. lpc analysis), an <b>order</b> parameter is required. This is usually derived from the size of the input or output vectors, and hence is not passed explicitly.</p>
<ul>
<li><a class="el" href="group__LinearPredictionfunctions.html">Linear Prediction functions</a></li>
<li><a class="el" href="group__Energyandpowerframefunctions.html">Energy and power frame functions</a></li>
<li><a class="el" href="group__FastFourierTransformfunctions.html">Fast Fourier Transform functions</a></li>
<li><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html">Frame based filter bank and cepstral analysis</a></li>
</ul>
<h2><a class="anchor" id="sigpr-track-func"></a>
Functions for Generating Tracks</h2>
<p>Functions which operate on a whole waveform and generate coefficients for a track.</p>
<ul>
<li><a class="el" href="group__Functionsforusewithframebasedprocessing.html">Functions for use with frame based processing</a></li>
<li><a class="el" href="group__DeltaandAccelerationcoefficients.html">Delta and Acceleration coefficients</a></li>
<li><a class="el" href="group__PitchF0DetectionAlgorithmfunctions.html">Pitch/F0 Detection Algorithm functions</a></li>
<li><a class="el" href="group__PitchmarkingFunctions.html">Pitchmarking Functions</a></li>
<li><a class="el" href="group__Spectrogramgeneration.html">Spectrogram generation</a></li>
</ul>
<p>These functions are a nice set of stuff</p>
<h2><a class="anchor" id="est_sigpr_windowing"></a>
Functions for Windowing Frames of Waveforms</h2>
<ul>
<li><a class="el" href="classEST__Window.html">EST_Window</a></li>
</ul>
<h2><a class="anchor" id="sigpr-filter"></a>
Filter functions</h2>
<p>A filter modifies a waveform by changing its frequency characteristics. The following types of filter are currently supported:</p>
<ul>
<li><b>FIR filters</b>: FIR filters are general purpose finite impulse response filters which are useful for band-pass, low-pass and high-pass filtering.</li>
<li><b>Linear Prediction filters</b>: are used to produce LP residuals from waveforms and viceversa.</li>
<li><b>Pre Emphasis filters</b>: are simple filters for changing the spectral tilt of a signal.</li>
<li><b>Non linear filters</b>: Miscellaneous filters</li>
<li><a class="el" href="group__FIRfilters.html">FIR filters</a></li>
<li><a class="el" href="group__LinearPredictionfilters.html">Linear Prediction filters</a></li>
<li><a class="el" href="group__PrePostEmphasisfilters.html">Pre/Post Emphasis filters.</a></li>
<li><a class="el" href="group__Miscellaneousfilters.html">Miscellaneous filters.</a></li>
</ul>
<h2><a class="anchor" id="sigpr-filter-design"></a>
Filter design</h2>
<ul>
<li><a class="el" href="group__FilterDesign.html">Filter Design</a></li>
</ul>
<h1>Example</h1>
<p><a class="el" href="sigpr-example.html">Example of Signal Processing code</a></p>
<h1><a class="anchor" id="sigpr-programs"></a>
Programs</h1>
<p>The following are exectutable programs which are used for signal processing:</p>
<ul>
<li>sigfv_manual is used to provide produce a variety of feature vectors given a waveform.</li>
<li><a class="el" href="spectgen_manual.html">spectgen</a> is used to produce spectrograms from utterances.</li>
<li><a class="el" href="sigfilter_manual.html">sigfilter</a> performs filtering operations on waveforms.</li>
<li>pda_manual performs pitch detection on waveforms. While sig2fv can perform pitch detection also, pda offers more control over the operation.</li>
<li><a class="el" href="pitchmark_manual.html">pitchmark</a> produces a set of pitchmarks, specifying the instant of glottal close from laryngograph waveforms.</li>
</ul>
<p>The following programs are also useful in signal processing:</p>
<ul>
<li><a class="el" href="ch_wave_manual.html">ch_wave</a> performs basic operations on waveforms, such as adding headers, resampling, rescaling, multi to single channel conversion etc.</li>
<li><a class="el" href="ch_track_manual.html">ch_track</a> performs basic operates on coefficient tracks, such as adding headers, resampling, rescaling, multi to single channel conversion etc. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 6 2017 18:25:31 for Edinburgh Speech Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

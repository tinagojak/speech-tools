<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Edinburgh Speech Tools: pitchmark</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="est.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Edinburgh Speech Tools
   &#160;<span id="projectnumber">2.1-release</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pitchmark_manual.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">pitchmark </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#pitchmark-examples">Examples</a></li>
</ul>
</div>
<div class="textblock"><p><em>Find instants of glottal closure in Laryngograph file</em></p>
<h1><a class="anchor" id="synopsis"></a>
Synopsis</h1>
<p>pitchmark [input file] -o [output file] [options]Summary: pitchmark laryngograph (lx) files [-h ] [-itype <em>string</em>] [-n <em>int</em>] [-f <em>int</em>] [-ibo <em>string</em>] [-iswap ] [-istype <em>string</em>] [-c <em>string</em>] [-start <em>float</em>] [-end <em>float</em>] [-from <em>int</em>] [-to <em>int</em>] [-otype <em>string</em>] [-S <em>float</em>] [-o <em>ofile</em>] [-lx_lf <em>int</em>] [-lx_lo <em>int</em>] [-lx_hf <em>int</em>] [-lx_ho <em>int</em>] [-df_lf <em>int</em>] [-df_lo <em>int</em>] [-med_o <em>int</em>] [-mean_o <em>int</em>] [-inv ] [-fill ] [-min <em>float</em>] [-max <em>float</em>] [-def <em>float</em>] [-pm <em>ifile</em>] [-f0 <em>ofile</em>] [-end <em>float</em>] [-wave_end ] [-inter ] [-style <em>string</em>]</p>
<p>`pitchmark locates instants of glottal closure in a laryngograph waveform, and performs post-processing to produce even pitchmarks. EST does not currently provide any means of pitchmarking a speech waveform.</p>
<p>Pitchmarking is performed by calling the <a class="el" href="group__PitchmarkingFunctions.html#ga2477452c02a96a374a3a37981375926c">pitchmark()</a> function, which carries out the following operations:</p>
<ol type="1">
<li>Double low pass filter the signal. This removes noise in the signal. The parameter <code>lx_lf</code> specifies the low pass cutoff frequency, and <code>lx_lo</code> specifies the order. Double filtering (feeding the waveform through the filter, then reversing the waveform and feeding it through again) is performed to reduce any phase shift between the input and output of the filtering operation.</li>
<li>Double high pass filter the signal. This removes the very low frequency swell that is often observed in laryngograph waveforms. The parameter <code>lx_hf</code> specifies the high pass cutoff frequency, and <code>lx_ho</code> specifies the order. Double filtering is performed to reduce any phase shift between the input and output of the filtering operation.</li>
<li>Calculate the delta signal. The filtered waveform is differentiated using the <a class="el" href="group__DeltaandAccelerationcoefficients.html#ga42d364648047af61bfbdf00f17bc3352">delta()</a> function.</li>
<li>Low pass filter the delta signal. Some noise may still be present in the signal, and this is removed by further low pass filtering. Experimentation has shown that simple mean smoothing is often more effective than FIR smoothing at this point. The parameter <code>mo</code> is used to specify the size of the mean smoothing window. If FIR smoothing is chosen, the parameter <code>df_lf</code> specifies the low pass cutoff frequency, and <code>df_lo</code> specifies the order. Double filtering is again used to avoid phase distortion.</li>
<li>Pick zero crossings. Now simple zero-crossing is used to find the pitchmarks themselves.</li>
</ol>
<p><code>pitchmark</code> also performs post-processing on the pitchmarks. This can be used to eliminate pitchmarks which occur too closely together, or to provide estimated evenly spaced pitchmarks during unvoiced regions. The -fill option switches this facility on, and -min, -max, -def, -end and -wave_end control its operation.</p>
<h1><a class="anchor" id="options"></a>
Options</h1>
<ul>
<li><b>-h</b>: Options help</li>
<li><b>-itype</b>: <em>string</em> Input file type (optional). If set to raw, this indicates that the input file does not have a header. While this can be used to specify file types other than raw, this is rarely used for other purposes as the file type of all the existing supported types can be determined automatically from the file's header. If the input file is unheadered, files are assumed to be shorts (16bit). Supported types are nist, est, esps, snd, riff, aiff, audlab, raw, ascii</li>
<li><b>-n</b>: <em>int</em> Number of channels in an unheadered input file</li>
<li><b>-f</b>: <em>int</em> Sample rate in Hertz for an unheadered input file</li>
<li><b>-ibo</b>: <em>string</em> Input byte order in an unheadered input file: possibliities are: MSB , LSB, native or nonnative. Suns, HP, SGI Mips, M68000 are MSB (big endian) Intel, Alpha, DEC Mips, Vax are LSB (little endian)</li>
<li><b>-iswap</b>: Swap bytes. (For use on an unheadered input file)</li>
<li><b>-istype</b>: <em>string</em> Sample type in an unheadered input file: short, alaw, mulaw, byte, ascii</li>
<li><b>-c</b>: <em>string</em> Select a single channel (starts from 0). Waveforms can have multiple channels. This option extracts a single channel for progcessing and discards the rest.</li>
<li><b>-start</b>: <em>float</em> Extract sub-wave starting at this time, specified in seconds</li>
<li><b>-end</b>: <em>float</em> Extract sub-wave ending at this time, specified in seconds</li>
<li><b>-from</b>: <em>int</em> Extract sub-wave starting at this sample point</li>
<li><b>-to</b>: <em>int</em> Extract sub-wave ending at this sample point</li>
<li><b>-otype</b>: <em>string</em> " {ascii}" Output file type, if unspecified ascii is assumed, types are: none, esps, est, est_binary, htk, htk_fbank, htk_mfcc, htk_mfcc_e, htk_user, htk_discrete, ssff, xmg, xgraph, ema, ema_swapped, ascii, label</li>
<li><b>-S</b>: <em>float</em> Frame spacing of output in seconds. If this is different from the internal spacing, the contour is resampled at this spacing</li>
<li><b>-o</b>: <em>ofile</em> Output filename, defaults to stdout</li>
<li><b>-lx_lf</b>: <em>int</em> lx low frequency cutoff</li>
<li><b>-lx_lo</b>: <em>int</em> lx low order</li>
<li><b>-lx_hf</b>: <em>int</em> lx high frequency cutoff</li>
<li><b>-lx_ho</b>: <em>int</em> lx high order</li>
<li><b>-df_lf</b>: <em>int</em> df low frequeny cutoff</li>
<li><b>-df_lo</b>: <em>int</em> df low order</li>
<li><b>-med_o</b>: <em>int</em> median smoothing order</li>
<li><b>-mean_o</b>: <em>int</em> mean smoothing order</li>
<li><b>-inv</b>: Invert polarity of lx signal. Often the lx signal is upside down. This option inverts the signal prior to processing.</li>
<li><b>-fill</b>: Insert and remove pitchmarks according to min, max and def period values. Often it is desirable to place limits on the values of the pitchmarks. This option enforces a minimum and maximum pitch period (specified by -man and -max). If the maximum pitch setting is low enough, this will esnure that unvoiced regions have evenly spaced pitchmarks</li>
<li><b>-min</b>: <em>float</em> Minimum allowed pitch period, in seconds</li>
<li><b>-max</b>: <em>float</em> Maximum allowed pitch period, in seconds</li>
<li><b>-def</b>: <em>float</em> Default pitch period in seconds, used for a guide as to what length pitch periods should be in unvoiced sections</li>
<li><b>-pm</b>: <em>ifile</em> Input is raw pitchmark file. This option is used to perform filling operations on an already existing set of pitchmarks</li>
<li><b>-f0</b>: <em>ofile</em> Calculate F0 from pitchmarks and save to file</li>
<li><b>-end</b>: <em>float</em> Specify the end time of the last pitchmark, for use with the -fill option</li>
<li><b>-wave_end</b>: Use the end of a waveform to specify when the last pitchmark position should be. The waveform file is only read to determine its end, no processing is performed</li>
<li><b>-inter</b>: Output intermediate waveforms. This will output the signal at various stages of processing. Examination of these waveforms is extremely useful in setting the parameters for similar waveforms</li>
<li><b>-style</b>: <em>string</em> "track" or "lab"</li>
</ul>
<h1><a class="anchor" id="pitchmark-examples"></a>
Examples</h1>
<p>Basic Pitchmarking**:</p>
<p>$ pitchmark kdt_010.lar -o kdt_010.pm -otype est</p>
<p>Pitchmarking with unvoiced regions filled**: The following fills unvoiced regions with pitch periods that are about 0.01 seconds long. It also post-processes the set of pitchmarks and ensures that noe are above 0.02 seconds long and none below 0.003. A final unvoiced region extending to the end of the wave is specified by using the -wave_end option. </p><pre class="fragment">$ pitchmark kdt_010.lar -o kdt_010.pm -otype est -fill -min 0.003  \
   -max 0.02 -def 0.01 -wave_end</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 6 2017 18:25:31 for Edinburgh Speech Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

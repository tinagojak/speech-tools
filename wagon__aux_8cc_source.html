<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Edinburgh Speech Tools: stats/wagon/wagon_aux.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="est.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Edinburgh Speech Tools
   &#160;<span id="projectnumber">2.1-release</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('wagon__aux_8cc_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">wagon_aux.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="wagon__aux_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*************************************************************************/</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*                                                                       */</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/*                Centre for Speech Technology Research                  */</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/*                     University of Edinburgh, UK                       */</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/*                      Copyright (c) 1996,1997                          */</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/*                        All Rights Reserved.                           */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/*                                                                       */</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/*  Permission is hereby granted, free of charge, to use and distribute  */</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/*  this software and its documentation without restriction, including   */</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*  without limitation the rights to use, copy, modify, merge, publish,  */</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/*  distribute, sublicense, and/or sell copies of this work, and to      */</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/*  permit persons to whom this work is furnished to do so, subject to   */</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/*  the following conditions:                                            */</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/*   1. The code must retain the above copyright notice, this list of    */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*      conditions and the following disclaimer.                         */</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/*   2. Any modifications must be clearly marked as such.                */</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/*   3. Original authors&#39; names are not deleted.                         */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/*   4. The authors&#39; names are not used to endorse or promote products   */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/*      derived from this software without specific prior written        */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*      permission.                                                      */</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/*                                                                       */</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/*  THE UNIVERSITY OF EDINBURGH AND THE CONTRIBUTORS TO THIS WORK        */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/*  DISCLAIM ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING      */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT   */</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/*  SHALL THE UNIVERSITY OF EDINBURGH NOR THE CONTRIBUTORS BE LIABLE     */</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/*  FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES    */</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/*  WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN   */</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/*  AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,          */</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/*  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF       */</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/*  THIS SOFTWARE.                                                       */</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/*                                                                       */</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/*************************************************************************/</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/*                     Author :  Alan W Black                            */</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/*                     Date   :  May 1996                                */</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/*-----------------------------------------------------------------------*/</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*                                                                       */</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*  Various method functions                                             */</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/*=======================================================================*/</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EST__unix_8h.html">EST_unix.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EST__cutils_8h.html">EST_cutils.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EST__Token_8h.html">EST_Token.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EST__Wagon_8h.html">EST_Wagon.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EST__math_8h.html">EST_math.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classWNode.html#a87dcf6d97e1a696d7d4973a6fa91b6c8">   51</a></span>&#160;<a class="code" href="classEST__Val.html">EST_Val</a> <a class="code" href="classWNode.html#a87dcf6d97e1a696d7d4973a6fa91b6c8">WNode::predict</a>(<span class="keyword">const</span> <a class="code" href="classWVector.html">WVector</a> &amp;d)</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (leaf())</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> impurity.value();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (question.ask(d))</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>-&gt;predict(d);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>-&gt;predict(d);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classWNode.html#a69417fe7c7ddc6d65430264c41ad2aae">   61</a></span>&#160;<a class="code" href="classWNode.html">WNode</a> *<a class="code" href="classWNode.html#a69417fe7c7ddc6d65430264c41ad2aae">WNode::predict_node</a>(<span class="keyword">const</span> <a class="code" href="classWVector.html">WVector</a> &amp;d)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (leaf())</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (question.ask(d))</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>-&gt;predict_node(d);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>-&gt;predict_node(d);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keywordtype">int</span> WNode::pure(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">//  A node is pure if it has no sub-nodes or its not of type class</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a> == 0) &amp;&amp; (<a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a> == 0))</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (get_impurity().type() != <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a8cb884489fbd2cbb87aa89b6bdb5bb9b">wnim_class</a>)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classWNode.html#a264593add807ad92c39b9f9712c094a8">   83</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWNode.html#a264593add807ad92c39b9f9712c094a8">WNode::prune</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// Check all sub-nodes and if they are all of the same class </span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// delete their sub nodes.  Returns pureness of this node</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span> (pure() == <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// Ok lets try and make it pure</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a> != 0) <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>-&gt;prune();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a> != 0) <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>-&gt;prune();</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// Have to check purity as well as values to ensure left and right</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// don&#39;t further split</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>  != 0) &amp;&amp; (<a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>-&gt;pure()  == <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) &amp;&amp; </div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        (<a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a> != 0)  &amp;&amp; (<a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>-&gt;pure() == <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) &amp;&amp;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        (<a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>-&gt;get_impurity().value() == <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>-&gt;get_impurity().value()))</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;         <span class="keyword">delete</span> <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>; <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a> = 0;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;         <span class="keyword">delete</span> <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>; <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a> = 0;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classWNode.html#aa437b1550ae3c0569214dda9de5a760f">  107</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWNode.html#aa437b1550ae3c0569214dda9de5a760f">WNode::held_out_prune</a>()</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// prune tree with held out data</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// Check if node&#39;s questions differentiates for the held out data</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// if not, prune all sub_nodes</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Rescore with prune data</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    set_impurity(<a class="code" href="classWImpurity.html">WImpurity</a>(get_data()));  <span class="comment">// for this new data</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a> != 0)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="EST__Wagon_8h.html#ab6408aaee6f166bc5a4b606b4738bebf">wgn_score_question</a>(question,get_data());</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (question.get_score() &lt; get_impurity().measure())</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {  <span class="comment">// its worth goint ot the next level</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="EST__Wagon_8h.html#ad5f4b3cd2fa1a964e6585293054cd4b2">wgn_find_split</a>(question,get_data(),</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;               <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>-&gt;get_data(),</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;               <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>-&gt;get_data());</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>-&gt;held_out_prune();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>-&gt;held_out_prune();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {  <span class="comment">// not worth the split so prune both sub_nodes</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">delete</span> <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>; <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a> = 0;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keyword">delete</span> <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>; <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a> = 0;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }    </div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keywordtype">void</span> WNode::print_out(ostream &amp;s, <span class="keywordtype">int</span> margin)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    s &lt;&lt; endl;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">for</span> (i=0;i&lt;margin;i++) s &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>==0) <span class="comment">// base case</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    s &lt;&lt; impurity;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    s &lt;&lt; question;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a>-&gt;print_out(s,margin+1);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a>-&gt;print_out(s,margin+1);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="wagon__aux_8cc.html#af07d105aadde72a00366b333ebfdd9c8">  153</a></span>&#160;ostream &amp; <a class="code" href="wagon__aux_8cc.html#af07d105aadde72a00366b333ebfdd9c8">operator &lt;&lt;</a>(ostream &amp;s, <a class="code" href="classWNode.html">WNode</a> &amp;n)</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// Output this node and its sub-node </span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    n.print_out(s,0);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    s &lt;&lt; endl;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classWDataSet.html#aed4f7b4d8007ce2d39da25d1a552beee">  162</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWDataSet.html#aed4f7b4d8007ce2d39da25d1a552beee">WDataSet::ignore_non_numbers</a>()</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">/* For ols we want to ignore anything that is categorial */</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;dlength; i++)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> ((p_type[i] == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baadb2ec5193d7b6d893613033c66c8420">wndt_binary</a>) ||</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            (p_type[i] == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baa7783f5cea2aebfee6b4dccd0fa9bf0b">wndt_float</a>))</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            p_ignore[i] = <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;             </div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classWDataSet.html#a37ba56391dbc20ce4ac083ab92d2a295">  181</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWDataSet.html#a37ba56391dbc20ce4ac083ab92d2a295">WDataSet::load_description</a>(<span class="keyword">const</span> <a class="code" href="classEST__String.html">EST_String</a> &amp;fname, LISP ignores)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// Initialise a dataset with sizes and types</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="classEST__String.html">EST_String</a> tname;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    LISP description,d;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    description = <a class="code" href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a>(<a class="code" href="siod_8h.html#a685a8867a8e1791fa0e2d180b73a31b1">vload</a>(fname,1));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    dlength = <a class="code" href="siod_8h.html#aed6a5b33088661a1e2bb79132d7806c8">siod_llength</a>(description);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    p_type.resize(dlength);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    p_ignore.resize(dlength);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    p_name.resize(dlength);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#a6a24c2a3d1570722ff790accf3e2822e">wgn_predictee_name</a> == <span class="stringliteral">&quot;&quot;</span>)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a> = 0;  <span class="comment">// default predictee is first field</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a> = -1;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">for</span> (i=0,d=description; d != <a class="code" href="siod__defs_8h.html#a263efce0e5cda1d387a1a43f94715445">NIL</a>; d=<a class="code" href="siod_8h.html#ab6dbdeed0cc58bd0c513c07e8f8bdfb8">cdr</a>(d),i++)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    p_name[i] = <a class="code" href="siod_8h.html#a99bea768cbec1447ea859195e9308f1f">get_c_string</a>(<a class="code" href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a>(<a class="code" href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a>(d)));</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    tname = <a class="code" href="siod_8h.html#a99bea768cbec1447ea859195e9308f1f">get_c_string</a>(<a class="code" href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a>(<a class="code" href="siod_8h.html#ab6dbdeed0cc58bd0c513c07e8f8bdfb8">cdr</a>(<a class="code" href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a>(d))));</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    p_ignore[i] = <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="EST__Wagon_8h.html#a6a24c2a3d1570722ff790accf3e2822e">wgn_predictee_name</a> != <span class="stringliteral">&quot;&quot;</span>) &amp;&amp; (<a class="code" href="EST__Wagon_8h.html#a6a24c2a3d1570722ff790accf3e2822e">wgn_predictee_name</a> == p_name[i]))</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a> = i;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="EST__Wagon_8h.html#a49ad61df06ab44c05036e099bd3d7871">wgn_count_field_name</a> != <span class="stringliteral">&quot;&quot;</span>) &amp;&amp; </div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        (<a class="code" href="EST__Wagon_8h.html#a49ad61df06ab44c05036e099bd3d7871">wgn_count_field_name</a> == p_name[i]))</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="EST__Wagon_8h.html#a458c1fcc0431562424bc7bfe1a9602c7">wgn_count_field</a> = i;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> ((tname == <span class="stringliteral">&quot;count&quot;</span>) || (i == <a class="code" href="EST__Wagon_8h.html#a458c1fcc0431562424bc7bfe1a9602c7">wgn_count_field</a>))</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// The count must be ignored, repeat it if you want it too</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba833804d4b71108aa558efe8a98bbf344">wndt_ignore</a>;  <span class="comment">// the count must be ignored</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        p_ignore[i] = <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="EST__Wagon_8h.html#a458c1fcc0431562424bc7bfe1a9602c7">wgn_count_field</a> = i;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((tname == <span class="stringliteral">&quot;ignore&quot;</span>) || (<a class="code" href="siod_8h.html#a7524e8ed46076397929b1908a38e417c">siod_member_str</a>(p_name[i],ignores)))</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba833804d4b71108aa558efe8a98bbf344">wndt_ignore</a>;  <span class="comment">// user specified ignore</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        p_ignore[i] = <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> (i == <a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="EST__Wagon_8h.html#a91c057d98cdd7eeaf1343c3400d301e3">wagon_error</a>(<a class="code" href="EST__features__aux_8cc.html#afa02c4bbe9aa0e833dda8da46564fb3a">EST_String</a>(<span class="stringliteral">&quot;predictee \&quot;&quot;</span>)+p_name[i]+</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                <span class="stringliteral">&quot;\&quot; can&#39;t be ignored \n&quot;</span>);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="siod_8h.html#aed6a5b33088661a1e2bb79132d7806c8">siod_llength</a>(<a class="code" href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a>(d)) &gt; 2)</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        LISP rest = <a class="code" href="siod_8h.html#ab6dbdeed0cc58bd0c513c07e8f8bdfb8">cdr</a>(<a class="code" href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a>(d));</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="classEST__TList.html">EST_StrList</a> sl;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="siod_8h.html#a068d1a2316345039392aca87125d6d63">siod_list_to_strlist</a>(rest,sl);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#ae54262f82762c4498aa26b6a7f52b6ac">wgn_discretes</a>.<a class="code" href="classDiscretes.html#a1392be4a071b7f25cccfe51c06a9f072">def</a>(sl);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="EST__cutils_8h.html#a5a2398559d3cb1f4ebffa87a70bc941a">streq</a>(<a class="code" href="siod_8h.html#a99bea768cbec1447ea859195e9308f1f">get_c_string</a>(<a class="code" href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a>(rest)),<span class="stringliteral">&quot;_other_&quot;</span>))</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="EST__Wagon_8h.html#ae54262f82762c4498aa26b6a7f52b6ac">wgn_discretes</a>[p_type[i]].def_val(<span class="stringliteral">&quot;_other_&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tname == <span class="stringliteral">&quot;binary&quot;</span>)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baadb2ec5193d7b6d893613033c66c8420">wndt_binary</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tname == <span class="stringliteral">&quot;cluster&quot;</span>)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0bacca8fefd3459621664f63d101ce382f9">wndt_cluster</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tname == <span class="stringliteral">&quot;vector&quot;</span>)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba5f9c37e08e2fa7a7fbc97c0f85c88d4d">wndt_vector</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tname == <span class="stringliteral">&quot;trajectory&quot;</span>)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba2c086b6aa6fba76adfaf27efda1a7a69">wndt_trajectory</a>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tname == <span class="stringliteral">&quot;ols&quot;</span>)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0bae456ce9336ec563f5660a3bb4fe6ff7b">wndt_ols</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tname == <span class="stringliteral">&quot;matrix&quot;</span>)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba38aeb921f0a984cd8fceb38ef4c2ef11">wndt_matrix</a>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tname == <span class="stringliteral">&quot;float&quot;</span>)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        p_type[i] = <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baa7783f5cea2aebfee6b4dccd0fa9bf0b">wndt_float</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">else</span> </div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="EST__Wagon_8h.html#a91c057d98cdd7eeaf1343c3400d301e3">wagon_error</a>(<a class="code" href="EST__features__aux_8cc.html#afa02c4bbe9aa0e833dda8da46564fb3a">EST_String</a>(<span class="stringliteral">&quot;Unknown type \&quot;&quot;</span>)+tname+</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="stringliteral">&quot;\&quot; for field number &quot;</span>+<a class="code" href="group__utilityfunctionsforstrings.html#ga41ce26086fb016373648fa01f0509b79">itoString</a>(i)+</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        <span class="stringliteral">&quot;/&quot;</span>+p_name[i]+<span class="stringliteral">&quot; in description file \&quot;&quot;</span>+fname+<span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a> == -1)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="EST__Wagon_8h.html#a91c057d98cdd7eeaf1343c3400d301e3">wagon_error</a>(<a class="code" href="EST__features__aux_8cc.html#afa02c4bbe9aa0e833dda8da46564fb3a">EST_String</a>(<span class="stringliteral">&quot;predictee field \&quot;&quot;</span>)+<a class="code" href="EST__Wagon_8h.html#a6a24c2a3d1570722ff790accf3e2822e">wgn_predictee_name</a>+</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="stringliteral">&quot;\&quot; not found in description &quot;</span>);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classWQuestion.html#a05f5f1e0780cb918df13fac46d19a979">  263</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classWQuestion.html#a05f5f1e0780cb918df13fac46d19a979">WQuestion::ask</a>(<span class="keyword">const</span> <a class="code" href="classWVector.html">WVector</a> &amp;w)<span class="keyword"> const</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// Ask this question of the given vector</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">switch</span> (op)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eab5fa5c1a6642bbd414704683c23d40c7">wnop_equal</a>:    <span class="comment">// for numbers</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (w.<a class="code" href="classWVector.html#aa2801057eb32b269947b917d50374c60">get_flt_val</a>(feature_pos) == operand1.Float())</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">else</span> </div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea16d544e882c689bbca285c276c09e5e2">wnop_binary</a>:    <span class="comment">// for numbers</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (w.<a class="code" href="classWVector.html#aeda2c22a5592b9ef556138799f590e3c">get_int_val</a>(feature_pos) == 1)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">else</span> </div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eade6b4509b0d90b5c37aae9ba9559ded2">wnop_greaterthan</a>:</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (w.<a class="code" href="classWVector.html#aa2801057eb32b269947b917d50374c60">get_flt_val</a>(feature_pos) &gt; operand1.Float())</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">else</span> </div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea04218402a23ed4e6e65f1d4381d45c08">wnop_lessthan</a>:</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (w.<a class="code" href="classWVector.html#aa2801057eb32b269947b917d50374c60">get_flt_val</a>(feature_pos) &lt; operand1.Float())</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">else</span> </div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eaf47270e18d3ff93f2eafd8bea946b953">wnop_is</a>:       <span class="comment">// for classes</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (w.<a class="code" href="classWVector.html#aeda2c22a5592b9ef556138799f590e3c">get_int_val</a>(feature_pos) == operand1.Int())</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea249f793c25a6688b3782ed0b86423996">wnop_in</a>:       <span class="comment">// for subsets -- note operand is list of ints</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="EST__ilist__aux_8cc.html#a92c3dff3e5a16f4bdeabe1a89c98308e">ilist_member</a>(operandl,w.<a class="code" href="classWVector.html#aeda2c22a5592b9ef556138799f590e3c">get_int_val</a>(feature_pos)))</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="EST__Wagon_8h.html#a91c057d98cdd7eeaf1343c3400d301e3">wagon_error</a>(<span class="stringliteral">&quot;Unknown test operator&quot;</span>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    </div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="wagon__aux_8cc.html#a0c5d6a4117345b2185f79ad15bc17aac">  305</a></span>&#160;ostream&amp; <a class="code" href="wagon__aux_8cc.html#af07d105aadde72a00366b333ebfdd9c8">operator&lt;&lt;</a>(ostream&amp; s, <span class="keyword">const</span> <a class="code" href="classWQuestion.html">WQuestion</a> &amp;q)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="classEST__String.html">EST_String</a> name;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keyword">static</span> <a class="code" href="classEST__Regex.html">EST_Regex</a> needquotes(<span class="stringliteral">&quot;.*[()&#39;\&quot;;., \t\n\r].*&quot;</span>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#aa8d44b3ea9ed6069a1eafb5463773d21">feat_name</a>(q.<a class="code" href="classWQuestion.html#a1500599f2092b5bbfd341567b1cfcf7f">get_fp</a>());</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">switch</span> (q.<a class="code" href="classWQuestion.html#a956c8c5212cf409e3ee8f9b859ea85b5">get_op</a>())</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eab5fa5c1a6642bbd414704683c23d40c7">wnop_equal</a>:</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; q.<a class="code" href="classWQuestion.html#a2d882c39cbb6eb5afde622b9ec3fe810">get_operand1</a>().<a class="code" href="classEST__Val.html#a94af38f134ea48132d9aa3a7041f6982">string</a>();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea16d544e882c689bbca285c276c09e5e2">wnop_binary</a>:</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eade6b4509b0d90b5c37aae9ba9559ded2">wnop_greaterthan</a>:</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span> &lt;&lt; q.<a class="code" href="classWQuestion.html#a2d882c39cbb6eb5afde622b9ec3fe810">get_operand1</a>().<a class="code" href="classEST__Val.html#afbe826f352207d1afed40a0eb8c6aa2f">Float</a>();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea04218402a23ed4e6e65f1d4381d45c08">wnop_lessthan</a>:</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot; &lt; &quot;</span> &lt;&lt; q.<a class="code" href="classWQuestion.html#a2d882c39cbb6eb5afde622b9ec3fe810">get_operand1</a>().<a class="code" href="classEST__Val.html#afbe826f352207d1afed40a0eb8c6aa2f">Float</a>();</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eaf47270e18d3ff93f2eafd8bea946b953">wnop_is</a>:</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    name = <a class="code" href="EST__Wagon_8h.html#ae54262f82762c4498aa26b6a7f52b6ac">wgn_discretes</a>[<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(q.<a class="code" href="classWQuestion.html#a1500599f2092b5bbfd341567b1cfcf7f">get_fp</a>())].</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        name(q.<a class="code" href="classWQuestion.html#a2d882c39cbb6eb5afde622b9ec3fe810">get_operand1</a>().<a class="code" href="classEST__Val.html#a68cc7769279e38104c57c06754889d12">Int</a>());</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot; is &quot;</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (name.<a class="code" href="classEST__String.html#a2ef18ba1743ae5e889745b88ebd520a8">matches</a>(needquotes))</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        s &lt;&lt; <a class="code" href="EST__Token_8cc.html#a0ebfabc0016fe6b34c6134760b57319e">quote_string</a>(name,<span class="stringliteral">&quot;\&quot;&quot;</span>,<span class="stringliteral">&quot;\\&quot;</span>,1);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        s &lt;&lt; name;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eaf2f838f6bf2f72307a55f8d7fba8f7d2">wnop_matches</a>:</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    name = <a class="code" href="EST__Wagon_8h.html#ae54262f82762c4498aa26b6a7f52b6ac">wgn_discretes</a>[<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(q.<a class="code" href="classWQuestion.html#a1500599f2092b5bbfd341567b1cfcf7f">get_fp</a>())].</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        name(q.<a class="code" href="classWQuestion.html#a2d882c39cbb6eb5afde622b9ec3fe810">get_operand1</a>().<a class="code" href="classEST__Val.html#a68cc7769279e38104c57c06754889d12">Int</a>());</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot; matches &quot;</span> &lt;&lt; <a class="code" href="EST__Token_8cc.html#a0ebfabc0016fe6b34c6134760b57319e">quote_string</a>(name,<span class="stringliteral">&quot;\&quot;&quot;</span>,<span class="stringliteral">&quot;\\&quot;</span>,1);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea249f793c25a6688b3782ed0b86423996">wnop_in</a>:</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot; in (&quot;</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l &lt; q.<a class="code" href="classWQuestion.html#a37a1148152ba8520a82ef8c41052bfe5">get_operandl</a>().<a class="code" href="classEST__UList.html#a157db3e634c5c8faad11d2a79729419d">length</a>(); l++)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        name = <a class="code" href="EST__Wagon_8h.html#ae54262f82762c4498aa26b6a7f52b6ac">wgn_discretes</a>[<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(q.<a class="code" href="classWQuestion.html#a1500599f2092b5bbfd341567b1cfcf7f">get_fp</a>())].</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        name(q.<a class="code" href="classWQuestion.html#a37a1148152ba8520a82ef8c41052bfe5">get_operandl</a>().<a class="code" href="classEST__TList.html#a4d6fa93e196f0550a6d8fa391d76b0ec">nth</a>(l));</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">if</span> (name.matches(needquotes))</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        s &lt;&lt; <a class="code" href="EST__Token_8cc.html#a0ebfabc0016fe6b34c6134760b57319e">quote_string</a>(name,<span class="stringliteral">&quot;\&quot;&quot;</span>,<span class="stringliteral">&quot;\\&quot;</span>,1);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        s &lt;&lt; name;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="comment">// SunCC wont let me add this</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">//      default:</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">//  s &lt;&lt; &quot; unknown operation &quot;;</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    </div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="classWImpurity.html#a6cb46946fdb9dcc7e3640ad015cd258f">  361</a></span>&#160;<a class="code" href="classEST__Val.html">EST_Val</a> <a class="code" href="classWImpurity.html#a6cb46946fdb9dcc7e3640ad015cd258f">WImpurity::value</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Returns the recommended value for this </span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="classEST__String.html">EST_String</a> s;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordtype">double</span> prob;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    </div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a51fec610736e8d45f16ce74b60cf46c4">wnim_unset</a>)</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    cerr &lt;&lt; <span class="stringliteral">&quot;WImpurity: no value currently set\n&quot;</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classEST__Val.html">EST_Val</a>(0.0);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a8cb884489fbd2cbb87aa89b6bdb5bb9b">wnim_class</a>)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classEST__Val.html">EST_Val</a>(p.most_probable(&amp;prob));</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a35bd48c587e422a2d34d9dbd53bce18e">wnim_cluster</a>)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classEST__Val.html">EST_Val</a>(a.mean());</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8af71c071c0d0bcbad40bf748ec987714a">wnim_ols</a>)     <span class="comment">/* OLS TBA */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classEST__Val.html">EST_Val</a>(a.mean());</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a65b5613fdef5307f5cf582bc8802b15e">wnim_vector</a>)</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classEST__Val.html">EST_Val</a>(a.mean()); <span class="comment">/* wnim_vector */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a50397214b39b899edfc68bd87394a2b8">wnim_trajectory</a>)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classEST__Val.html">EST_Val</a>(a.mean()); <span class="comment">/* NOT YET WRITTEN */</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classEST__Val.html">EST_Val</a>(a.mean());</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classWImpurity.html#a776bcad608e24066e4aff19fd8a7b1c5">  386</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classWImpurity.html#a776bcad608e24066e4aff19fd8a7b1c5">WImpurity::samples</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a981082b3f3f4b34281dba42d0e810697">wnim_float</a>)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">return</span> a.samples();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a8cb884489fbd2cbb87aa89b6bdb5bb9b">wnim_class</a>)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)p.samples();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a35bd48c587e422a2d34d9dbd53bce18e">wnim_cluster</a>)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span> members.length();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8af71c071c0d0bcbad40bf748ec987714a">wnim_ols</a>)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">return</span> members.length();</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a65b5613fdef5307f5cf582bc8802b15e">wnim_vector</a>)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">return</span> members.length();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t==<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a50397214b39b899edfc68bd87394a2b8">wnim_trajectory</a>)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">return</span> members.length();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="classWImpurity.html#ad50a6d62cdf9eb71fb5453b1a073d2df">  404</a></span>&#160;<a class="code" href="classWImpurity.html#ae24483c1ba3bca4941bed4312ad804b5">WImpurity::WImpurity</a>(<span class="keyword">const</span> <a class="code" href="classEST__TVector.html">WVectorVector</a> &amp;ds)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    score = NAN;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    t=<a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a51fec610736e8d45f16ce74b60cf46c4">wnim_unset</a>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    a.reset(); trajectory=0; l=0; width=0;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    data = &amp;ds;  <span class="comment">// for ols, model calculation </span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; ds.<a class="code" href="classEST__TVector.html#af51a6450aaa52230a6461b1f155d5e20">n</a>(); i++)</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8af71c071c0d0bcbad40bf748ec987714a">wnim_ols</a>)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            cumulate(i,1);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#a458c1fcc0431562424bc7bfe1a9602c7">wgn_count_field</a> == -1)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        cumulate((*(ds(i)))[<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>],1);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        cumulate((*(ds(i)))[wgn_predictee],</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;             (*(ds(i)))[<a class="code" href="EST__Wagon_8h.html#a458c1fcc0431562424bc7bfe1a9602c7">wgn_count_field</a>]);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="classWImpurity.html#abd46e7ee707822fe3d0d4a806fee6845">  424</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classWImpurity.html#abd46e7ee707822fe3d0d4a806fee6845">WImpurity::measure</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a981082b3f3f4b34281dba42d0e810697">wnim_float</a>)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">return</span> a.variance()*a.samples();</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a65b5613fdef5307f5cf582bc8802b15e">wnim_vector</a>)</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">return</span> vector_impurity();</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a50397214b39b899edfc68bd87394a2b8">wnim_trajectory</a>)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">return</span> trajectory_impurity();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a6216a2ac3eaab763c16a7c6aead7c666">wnim_matrix</a>)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span> a.variance()*a.samples();</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a8cb884489fbd2cbb87aa89b6bdb5bb9b">wnim_class</a>)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">return</span> p.entropy()*p.samples();</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a35bd48c587e422a2d34d9dbd53bce18e">wnim_cluster</a>)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> cluster_impurity();</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8af71c071c0d0bcbad40bf748ec987714a">wnim_ols</a>)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">return</span> ols_impurity();  <span class="comment">/* RMSE for OLS model */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    cerr &lt;&lt; <span class="stringliteral">&quot;WImpurity: can&#39;t measure unset object&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="keywordtype">float</span> WImpurity::vector_impurity()</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// Find the mean/stddev for all values in all vectors</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// sum the variances and multiply them by the number of members</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *pp;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *countpp;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a> i,j;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> b;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordtype">double</span> count = 1;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    a.<a class="code" href="classEST__SuffStats.html#a9d33e3347a514f3abfc5532371053b46">reset</a>();</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#if 1</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">/* simple distance */</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            b.<a class="code" href="classEST__SuffStats.html#a9d33e3347a514f3abfc5532371053b46">reset</a>();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">for</span> (pp=members.head(), countpp=member_counts.head(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>(), countpp=countpp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                i = members.item(pp);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="comment">// Accumulate the value with count</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                b.<a class="code" href="classEST__SuffStats.html#aab76e8700a9a3889781c18f7a438edba">cumulate</a>(<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,j), member_counts.item(countpp)) ;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            a += b.<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>();</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            count = b.<a class="code" href="classEST__SuffStats.html#adf7a96c3f4779d0248cab32abb0c7bef">samples</a>();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">/* full covariance */</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">/* worse in listening experiments */</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> **cs;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordtype">int</span> mmm;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    cs = <span class="keyword">new</span> <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> *[<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>()+1];</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">for</span> (j=0; j&lt;=<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        cs[j] = <span class="keyword">new</span> <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a>[<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>()+1];</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">/* Find means for diagonal */</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(0,j) &gt; 0.0)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">for</span> (pp=members.head(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                cs[j][j] += <a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(members.item(pp),j);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">for</span> (i=j+1; i&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); i++)</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(0,j) &gt; 0.0)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="keywordflow">for</span> (pp=members.head(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                    mmm = members.item(pp);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                    cs[i][j] += (<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(mmm,i)-cs[j][j].<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>())*</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                        (<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(mmm,j)-cs[j][j].<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>());</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">for</span> (i=j+1; i&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); i++)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(0,j) &gt; 0.0)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                a += cs[i][j].<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>();</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    count = cs[0][0].<a class="code" href="classEST__SuffStats.html#adf7a96c3f4779d0248cab32abb0c7bef">samples</a>();</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// look at mean euclidean distance between vectors </span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *qq;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">int</span> x,y;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordtype">double</span> d,q;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    count = 0;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">for</span> (pp=members.head(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        x = members.item(pp);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        count++;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">for</span> (qq=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>(); qq != 0; qq=qq-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            y = members.item(qq);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordflow">for</span> (q=0.0,j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(0,j) &gt; 0.0)</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                    d = <a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>(x,j)-<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>(y,j);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    q += d*d;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            a += sqrt(q);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">// This is sum of stddev*samples</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">return</span> a.mean() * count; </div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="classWImpurity.html#a9c8e8ae4a7dd40580f95909f13626b7f">  547</a></span>&#160;<a class="code" href="classWImpurity.html#a9c8e8ae4a7dd40580f95909f13626b7f">WImpurity::~WImpurity</a>()</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;{</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">int</span> j;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">if</span> (trajectory != 0)</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">for</span> (j=0; j&lt;l; j++)</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keyword">delete</span> [] trajectory[j];</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keyword">delete</span> [] trajectory;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        trajectory = 0;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        l = 0;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;}</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="keywordtype">float</span> WImpurity::trajectory_impurity()</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;{</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// Find the mean length of all the units in the cluster</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">// Create that number of points</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// Interpolate each unit to that number of points</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">// collect means and standard deviations for each point</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// impurity is sum of the variance for each point and each coef</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="comment">// multiplied by the number of units.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *pp;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a> i, j;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordtype">int</span> ti;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a> s, q, ni;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">int</span> s1l, s2l;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordtype">double</span> n, m, m1, m2, w;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> lss, stdss;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> l1ss, l2ss;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="fft_8cc.html#ad91129aeadd7d76e6d3ac94a9e4312bb">l1</a>, <a class="code" href="fft_8cc.html#abf4381d3028f297334a3b2df5e4d1e8e">l2</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordtype">int</span> ola=0;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> (trajectory != 0)</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    {   <span class="comment">/* already done this */</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">return</span> score;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    lss.<a class="code" href="classEST__SuffStats.html#a9d33e3347a514f3abfc5532371053b46">reset</a>();</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    l = 0;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">for</span> (pp=members.head(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        i = members.item(pp);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">for</span> (q=0; q&lt;<a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1); q++)</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            ni = <a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,0)+q;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(ni,0) == -1.0)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                l1ss += q;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                ola = 1;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">if</span> (q==<a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1))</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        {   <span class="comment">/* can&#39;t find -1 center point, so put all in l2 */</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            l1ss += 0;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            l2ss += q;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            l2ss += <a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1) - (q+1) - 1;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        lss += <a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1); <span class="comment">/* length of each unit in the cluster */</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1) &gt; l)</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            l = (<span class="keywordtype">int</span>)<a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (ola==0)  <span class="comment">/* no -1&#39;s so its not an ola type cluster */</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        l = ((<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)lss.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt; 7) ? 7 : (<span class="keywordtype">int</span>)lss.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>();</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="comment">/* a list of SuffStats on for each point in the trajectory */</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        trajectory = <span class="keyword">new</span> <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> *[l];</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        width = <a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>()+1;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">for</span> (j=0; j&lt;l; j++)</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            trajectory[j] = <span class="keyword">new</span> <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a>[width];</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">for</span> (pp=members.head(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        {   <span class="comment">/* for each unit */</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            i = members.item(pp);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            m = (float)<a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1L)/(float)l; <span class="comment">/* find interpolation */</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            s = <a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,0); <span class="comment">/* start point */</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keywordflow">for</span> (ti=0,n=0.0; ti&lt;l; ti++,n+=m)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                ni = (<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)n;  <span class="comment">// hmm floor or nint ??</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                        trajectory[ti][j] += <a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(s+ni,j);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">/* find sum of sum of stddev for all coefs of all traj points */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        stdss.<a class="code" href="classEST__SuffStats.html#a9d33e3347a514f3abfc5532371053b46">reset</a>();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">for</span> (ti=0; ti&lt;l; ti++)</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    stdss += trajectory[ti][j].<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>();</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// This is sum of all stddev * samples</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        score = stdss.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() * members.length();</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    {   <span class="comment">/* OLA model */</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        l1 = (l1ss.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt; 10.0) ? 10 : (<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)l1ss.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>();</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        l2 = (l2ss.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt; 10.0) ? 10 : (<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)l2ss.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>();</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        l = l1 + l2 + 1 + 1;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="comment">/* a list of SuffStats on for each point in the trajectory */</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        trajectory = <span class="keyword">new</span> <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> *[l];</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">for</span> (j=0; j&lt;l; j++)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            trajectory[j] = <span class="keyword">new</span> <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a>[<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>()+1];</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">for</span> (pp=members.head(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        {   <span class="comment">/* for each unit */</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            i = members.item(pp);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            s1l = 0;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            s = <a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,0); <span class="comment">/* start point */</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <span class="keywordflow">for</span> (q=0; q&lt;<a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1); q++)</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(s+q,0) == -1.0)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    s1l = q; <span class="comment">/* printf(&quot;awb q is -1 at %d\n&quot;,q); */</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            s2l = (<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)<a class="code" href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(i,1) - (s1l + 2);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            m1 = (float)(s1l)/(float)l1; <span class="comment">/* find interpolation step */</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            m2 = (float)(s2l)/(float)l2; <span class="comment">/* find interpolation step */</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="comment">/* First half */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">for</span> (ti=0,n=0.0; s1l &gt; 0 &amp;&amp; ti&lt;<a class="code" href="fft_8cc.html#ad91129aeadd7d76e6d3ac94a9e4312bb">l1</a>; ti++,n+=m1)</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                ni = s + (((<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)n &lt; s1l) ? (<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)n : s1l - 1);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        trajectory[ti][j] += <a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(ni,j);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            ti = <a class="code" href="fft_8cc.html#ad91129aeadd7d76e6d3ac94a9e4312bb">l1</a>; <span class="comment">/* do it explicitly in case s1l &lt; 1 */</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    trajectory[ti][j] += -1;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <span class="comment">/* Second half */</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            s += s1l+1;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="keywordflow">for</span> (ti++,n=0.0; s2l &gt; 0 &amp;&amp; ti&lt;l-1; ti++,n+=m2)</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                ni = s + (((<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)n &lt; s2l) ? (<a class="code" href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a>)n : s2l - 1);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        trajectory[ti][j] += <a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(ni,j);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    trajectory[ti][j] += -2;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="comment">/* find sum of sum of stddev for all coefs of all traj points */</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="comment">/* windowing the sums with a triangular weight window         */</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        stdss.<a class="code" href="classEST__SuffStats.html#a9d33e3347a514f3abfc5532371053b46">reset</a>();</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        m = 1.0/(float)l1;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">for</span> (w=0.0,ti=0; ti&lt;<a class="code" href="fft_8cc.html#ad91129aeadd7d76e6d3ac94a9e4312bb">l1</a>; ti++,w+=m)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                stdss += trajectory[ti][j].<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>() * w;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        m = 1.0/(float)l2;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">for</span> (w=1.0,ti++; ti&lt;l-1; ti++,w-=m)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    stdss += trajectory[ti][j].<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>() * w;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    </div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="comment">// This is sum of all stddev * samples</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        score = stdss.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() * members.length();</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">return</span> score;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> part_to_ols_data(<a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> &amp;<a class="code" href="ctype16_8c.html#a207fd5507206d307cd63f95374fcd00d">X</a>, <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> &amp;Y, </div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                             <a class="code" href="classEST__TSimpleVector.html">EST_IVector</a> &amp;included,</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                             <a class="code" href="classEST__TList.html">EST_StrList</a> &amp;feat_names,</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classEST__TList.html">EST_IList</a> &amp;members,</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classEST__TVector.html">WVectorVector</a> &amp;d)</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;{</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordtype">int</span> m,n,p;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordtype">int</span> w, xm=0;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *pp;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="classWVector.html">WVector</a> *wv;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    w = <a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ac503b6556b5fcfb395fad0ed58a7e6d3">width</a>();</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    included.<a class="code" href="classEST__TSimpleVector.html#a92d3bb2b0244dcf2632a6c4151e583ee">resize</a>(w);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    X.<a class="code" href="classEST__TSimpleMatrix.html#a315d47f4050c203fee80ad25d86696a5">resize</a>(members.<a class="code" href="classEST__UList.html#a157db3e634c5c8faad11d2a79729419d">length</a>(),w);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    Y.<a class="code" href="classEST__TSimpleMatrix.html#a315d47f4050c203fee80ad25d86696a5">resize</a>(members.<a class="code" href="classEST__UList.html#a157db3e634c5c8faad11d2a79729419d">length</a>(),1);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    feat_names.<a class="code" href="classEST__TList.html#a4796ddc854ff93fd7f86acd86b9e21a1">append</a>(<span class="stringliteral">&quot;Intercept&quot;</span>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    included[0] = <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">for</span> (p=0,pp=members.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); pp; p++,pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        n = members.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(pp);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">if</span> (n &lt; 0) </div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            p--;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        wv = d(n);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    Y.<a class="code" href="classEST__TMatrix.html#a009a9313be243677e4e0de5e1ff16065">a_no_check</a>(p,0) = (*wv)[0];</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    X.<a class="code" href="classEST__TMatrix.html#a009a9313be243677e4e0de5e1ff16065">a_no_check</a>(p,0) = 1;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">for</span> (m=1,xm=1; m &lt; w; m++)</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(m) == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baa7783f5cea2aebfee6b4dccd0fa9bf0b">wndt_float</a>)</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <span class="keywordflow">if</span> (p == 0) <span class="comment">// only do this once</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    feat_names.<a class="code" href="classEST__TList.html#a4796ddc854ff93fd7f86acd86b9e21a1">append</a>(<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#aa8d44b3ea9ed6069a1eafb5463773d21">feat_name</a>(m));</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                X.<a class="code" href="classEST__TMatrix.html#a009a9313be243677e4e0de5e1ff16065">a_no_check</a>(p,xm) = (*wv)[m];</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                included.<a class="code" href="classEST__TVector.html#ac70ec4d139820c43ed64c2e505f9586f">a_no_check</a>(xm) = <a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                included.<a class="code" href="classEST__TVector.html#ac70ec4d139820c43ed64c2e505f9586f">a_no_check</a>(xm) = <a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                xm++;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            }</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    included.<a class="code" href="classEST__TSimpleVector.html#a92d3bb2b0244dcf2632a6c4151e583ee">resize</a>(xm);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    X.<a class="code" href="classEST__TSimpleMatrix.html#a315d47f4050c203fee80ad25d86696a5">resize</a>(p,xm);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    Y.<a class="code" href="classEST__TSimpleMatrix.html#a315d47f4050c203fee80ad25d86696a5">resize</a>(p,1);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="keywordtype">float</span> WImpurity::ols_impurity()</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;{</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// Build an OLS model for the current data and measure it against </span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// the data itself and give a RMSE</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> <a class="code" href="ctype16_8c.html#a207fd5507206d307cd63f95374fcd00d">X</a>,Y;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="classEST__TSimpleVector.html">EST_IVector</a> included;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> coeffs;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="classEST__TList.html">EST_StrList</a> feat_names;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordtype">float</span> best_score;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> coeffsl;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> pred;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordtype">float</span> cor,rmse;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">// Load the sample members into matrices for ols</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    part_to_ols_data(X,Y,included,feat_names,members,*data);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// Find the best ols model.</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">// Far too computationally expensive</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">//    if (!stepwise_ols(X,Y,feat_names,0.0,coeffs,</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">//                      X,Y,included,best_score))</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">//  return WGN_HUGE_VAL;  // couldn&#39;t find a model</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// Non stepwise model</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="EST__multistats_8h.html#a61c523614c7e26635ad5915c56f7085d">robust_ols</a>(X,Y,included,coeffsl))</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="comment">//        printf(&quot;no robust ols\n&quot;);</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__Wagon_8h.html#ad1db85c4bce1e1e3a41889b45de16a88">WGN_HUGE_VAL</a>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="EST__multistats_8h.html#abe236b778463ea44f186a3e10df0b553">ols_apply</a>(X,coeffsl,pred);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="EST__multistats_8h.html#a8694b81ef366e8f06e6e09b2c4b7a797">ols_test</a>(Y,pred,cor,rmse);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    best_score = cor;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    printf(<span class="stringliteral">&quot;Impurity OLS X(%zd,%zd) Y(%zd,%zd) %f, %f, %f\n&quot;</span>,</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;             X.<a class="code" href="classEST__TMatrix.html#a70c5c633a9e32b546c8e524cb4d2163a">num_rows</a>(),X.<a class="code" href="classEST__TMatrix.html#a60701b2848c03918a527bb09870529bd">num_columns</a>(),Y.<a class="code" href="classEST__TMatrix.html#a70c5c633a9e32b546c8e524cb4d2163a">num_rows</a>(),Y.<a class="code" href="classEST__TMatrix.html#a60701b2848c03918a527bb09870529bd">num_columns</a>(),</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;             rmse,cor,</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;             1-best_score);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (fabs(coeffsl[0]) &gt; 10000)</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    {</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="comment">// printf(&quot;weird sized Intercept %f\n&quot;,coeffsl[0]);</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="EST__Wagon_8h.html#ad1db85c4bce1e1e3a41889b45de16a88">WGN_HUGE_VAL</a>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    }</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">return</span> (1-best_score) *members.<a class="code" href="classEST__UList.html#a157db3e634c5c8faad11d2a79729419d">length</a>();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="keywordtype">float</span> WImpurity::cluster_impurity()</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;{</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// Find the mean distance between all members of the dataset</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="comment">// Uses the global DistMatrix for distances between members of</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="comment">// the cluster set.  Distances are assumed to be symmetric thus only</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="comment">// the bottom half of the distance matrix is filled</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *pp, *q;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordtype">int</span> i,j;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordtype">double</span> dist;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    a.reset();</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">for</span> (pp=members.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    i = members.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(pp);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">for</span> (q=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>(); q != 0; q=q-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        j = members.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(q);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        dist = (j &lt; i ? <a class="code" href="EST__Wagon_8h.html#ae853b723072d50a0bd37af1880c03de7">wgn_DistMatrix</a>.<a class="code" href="classEST__TMatrix.html#a009a9313be243677e4e0de5e1ff16065">a_no_check</a>(i,j) :</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                    <a class="code" href="EST__Wagon_8h.html#ae853b723072d50a0bd37af1880c03de7">wgn_DistMatrix</a>.<a class="code" href="classEST__TMatrix.html#a009a9313be243677e4e0de5e1ff16065">a_no_check</a>(j,i));</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        a+=dist;  <span class="comment">// cumulate for whole cluster</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="comment">// This is sum distance between cross product of members</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">//    return a.sum();</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">if</span> (a.samples() &gt; 1)</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keywordflow">return</span> a.stddev() * a.samples();</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno"><a class="line" href="classWImpurity.html#ac27466f58434948175f11838c20d0817">  848</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classWImpurity.html#ac27466f58434948175f11838c20d0817">WImpurity::cluster_distance</a>(<span class="keywordtype">int</span> i)</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;{</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// Distance this unit is from all others in this cluster</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// in absolute standard deviations from the the mean.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordtype">float</span> dist = cluster_member_mean(i);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordtype">float</span> mdist = dist-a.mean();</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    </div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (mdist == 0.0)</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">return</span> fabs((dist-a.mean())/a.stddev());</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="classWImpurity.html#aa095bf023cec588240e2567a9bcf4c84">  862</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classWImpurity.html#aa095bf023cec588240e2567a9bcf4c84">WImpurity::in_cluster</a>(<span class="keywordtype">int</span> i)</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;{</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// Would this be a member of this cluster?.  Returns 1 if </span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">// its distance is less than at least one other</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordtype">float</span> dist = cluster_member_mean(i);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *pp;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">for</span> (pp=members.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (dist &lt; cluster_member_mean(members.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(pp)))</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;}</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="classWImpurity.html#a75458dfcc58d5725a176e6f33276e567">  877</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classWImpurity.html#a75458dfcc58d5725a176e6f33276e567">WImpurity::cluster_ranking</a>(<span class="keywordtype">int</span> i)</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;{</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">// Position in ranking closest to centre</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordtype">float</span> dist = cluster_distance(i);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *pp;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordtype">int</span> ranking = 1;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">for</span> (pp=members.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); pp != 0; pp=pp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (dist &gt;= cluster_distance(members.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(pp)))</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        ranking++;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> ranking;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="keywordtype">float</span> WImpurity::cluster_member_mean(<span class="keywordtype">int</span> i)</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">// Returns the mean difference between this member and all others</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// in cluster</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *q;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordtype">int</span> j,n;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordtype">double</span> dist,<a class="code" href="vec__mat__aux_8cc.html#a273034f2be664dca880e10d3e16d156e">sum</a>;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">for</span> (sum=0.0,n=0,q=members.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); q != 0; q=q-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    j = members.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(q);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">if</span> (i != j)</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        dist = (j &lt; i ? <a class="code" href="EST__Wagon_8h.html#ae853b723072d50a0bd37af1880c03de7">wgn_DistMatrix</a>(i,j) : <a class="code" href="EST__Wagon_8h.html#ae853b723072d50a0bd37af1880c03de7">wgn_DistMatrix</a>(j,i));</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        sum += dist;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        n++;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    }</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">return</span> ( n == 0 ? 0.0 : sum/n );</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="classWImpurity.html#ada30c720c803ea099ad859a55aa12cfa">  915</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classWImpurity.html#ada30c720c803ea099ad859a55aa12cfa">WImpurity::cumulate</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> pv,<span class="keywordtype">double</span> count)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// Cumulate data for impurity calculation </span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>) == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0bacca8fefd3459621664f63d101ce382f9">wndt_cluster</a>)</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    t = <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a35bd48c587e422a2d34d9dbd53bce18e">wnim_cluster</a>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    members.<a class="code" href="classEST__TList.html#a4796ddc854ff93fd7f86acd86b9e21a1">append</a>((<span class="keywordtype">int</span>)pv);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>) == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0bae456ce9336ec563f5660a3bb4fe6ff7b">wndt_ols</a>)</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    t = <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8af71c071c0d0bcbad40bf748ec987714a">wnim_ols</a>;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    members.<a class="code" href="classEST__TList.html#a4796ddc854ff93fd7f86acd86b9e21a1">append</a>((<span class="keywordtype">int</span>)pv);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>) == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba5f9c37e08e2fa7a7fbc97c0f85c88d4d">wndt_vector</a>)</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    t = <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a65b5613fdef5307f5cf582bc8802b15e">wnim_vector</a>;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    </div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">// AUP: Implement counts in vectors</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    members.<a class="code" href="classEST__TList.html#a4796ddc854ff93fd7f86acd86b9e21a1">append</a>((<span class="keywordtype">int</span>)pv);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    member_counts.append((<span class="keywordtype">float</span>)count);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>) == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba2c086b6aa6fba76adfaf27efda1a7a69">wndt_trajectory</a>)</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    t = <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a50397214b39b899edfc68bd87394a2b8">wnim_trajectory</a>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    members.<a class="code" href="classEST__TList.html#a4796ddc854ff93fd7f86acd86b9e21a1">append</a>((<span class="keywordtype">int</span>)pv);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    }</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>) &gt;= <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0bab905486a4b7cbe0445b87416eddf532c">wndt_class</a>)</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">if</span> (t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a51fec610736e8d45f16ce74b60cf46c4">wnim_unset</a>)</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        p.init(&amp;<a class="code" href="EST__Wagon_8h.html#ae54262f82762c4498aa26b6a7f52b6ac">wgn_discretes</a>[<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>)]);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    t = <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a8cb884489fbd2cbb87aa89b6bdb5bb9b">wnim_class</a>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    p.cumulate((<span class="keywordtype">int</span>)pv,count);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>) == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baadb2ec5193d7b6d893613033c66c8420">wndt_binary</a>)</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    t = <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a981082b3f3f4b34281dba42d0e810697">wnim_float</a>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    a.cumulate((<span class="keywordtype">int</span>)pv,count);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a>.<a class="code" href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">ftype</a>(<a class="code" href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a>) == <a class="code" href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baa7783f5cea2aebfee6b4dccd0fa9bf0b">wndt_float</a>)</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    t = <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a981082b3f3f4b34281dba42d0e810697">wnim_float</a>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    a.cumulate(pv,count);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="EST__Wagon_8h.html#a91c057d98cdd7eeaf1343c3400d301e3">wagon_error</a>(<span class="stringliteral">&quot;WImpurity: cannot cumulate EST_Val type&quot;</span>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="wagon__aux_8cc.html#a845321f7565e63919d5fd7d78b282b8c">  965</a></span>&#160;ostream &amp; <a class="code" href="wagon__aux_8cc.html#af07d105aadde72a00366b333ebfdd9c8">operator &lt;&lt;</a>(ostream &amp;s, <a class="code" href="classWImpurity.html">WImpurity</a> &amp;imp)</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;{</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a> j,i;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> b;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (imp.t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a981082b3f3f4b34281dba42d0e810697">wnim_float</a>)</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; imp.a.<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; imp.a.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (imp.t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a65b5613fdef5307f5cf582bc8802b15e">wnim_vector</a>)</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <a class="code" href="classEST__UItem.html">EST_Litem</a> *p, *countp;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;((&quot;</span>;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        imp.vector_impurity();</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#abfbf93a0a53b1c05c1f073780cbad5f9">wgn_vertex_output</a> == <span class="stringliteral">&quot;mean&quot;</span>)  <span class="comment">//output means</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                b.<a class="code" href="classEST__SuffStats.html#a9d33e3347a514f3abfc5532371053b46">reset</a>();</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                <span class="keywordflow">for</span> (p=imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(), countp=imp.<a class="code" href="classWImpurity.html#ad1b055e817d95581ce1a5964d2d4c8c7">member_counts</a>.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); p != 0; p=p-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>(), countp=countp-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          <span class="comment">// Accumulate the members with their counts</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;          b.<a class="code" href="classEST__SuffStats.html#aab76e8700a9a3889781c18f7a438edba">cumulate</a>(<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>((<a class="code" href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a>)imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(p),j), imp.<a class="code" href="classWImpurity.html#ad1b055e817d95581ce1a5964d2d4c8c7">member_counts</a>.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(countp));</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;          <span class="comment">//b += wgn_VertexTrack.a(imp.members.item(p),j);</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; b.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                <span class="keywordflow">if</span> (isfinite(b.<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>()))</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                    s &lt;&lt; b.<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                    s &lt;&lt; <span class="stringliteral">&quot;0.001&quot;</span> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                <span class="keywordflow">if</span> (j+1&lt;<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>())</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                    s &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            }</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">else</span> <span class="comment">/* output best in the cluster */</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="comment">/* print out vector closest to center, rather than average */</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <span class="keywordtype">double</span> best = <a class="code" href="EST__Wagon_8h.html#ad1db85c4bce1e1e3a41889b45de16a88">WGN_HUGE_VAL</a>;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            <span class="keywordtype">double</span> x,d;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <a class="code" href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a> bestp = 0;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> *cs;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            cs = <span class="keyword">new</span> <a class="code" href="classEST__SuffStats.html">EST_SuffStats</a> [<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>()+1];</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            </div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                    cs[j].<a class="code" href="classEST__SuffStats.html#a9d33e3347a514f3abfc5532371053b46">reset</a>();</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                    <span class="keywordflow">for</span> (p=imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); p != 0; p=p-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                    {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                        cs[j] += <a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>((<a class="code" href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a>)imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(p),j);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    }</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <span class="keywordflow">for</span> (p=imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); p != 0; p=p-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                <span class="keywordflow">for</span> (x=0.0,j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(static_cast&lt;ssize_t&gt;(0),j) &gt; 0.0)</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                    {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                        d = (<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>((<a class="code" href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a>)imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(p),j)-cs[j].<a class="code" href="EST__multistats_8h.html#a1755f8e220503f06e7209f3a66ae271a">mean</a>())</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                            <span class="comment">/* / cs[j].stddev() */</span> ; <span class="comment">/* seems worse 061218 */</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                        x += d*d;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                    }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                <span class="keywordflow">if</span> (x &lt; best)</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                    bestp = imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(p);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                    best = x;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            }</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                s &lt;&lt; <span class="stringliteral">&quot;( &quot;</span>;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                s &lt;&lt; <a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">a</a>(bestp,j);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                <span class="comment">//                s &lt;&lt; &quot; 0 &quot;; // fake stddev</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                s &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <span class="keywordflow">if</span> (isfinite(cs[j].stddev()))</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                    s &lt;&lt; cs[j].<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>();</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    s &lt;&lt; <span class="stringliteral">&quot;0&quot;</span>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                s &lt;&lt; <span class="stringliteral">&quot; ) &quot;</span>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <span class="keywordflow">if</span> (j+1&lt;<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>())</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                    s &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <span class="keyword">delete</span> [] cs;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    s &lt;&lt; imp.a.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (imp.t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a50397214b39b899edfc68bd87394a2b8">wnim_trajectory</a>)</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    {   </div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;((&quot;</span>;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        imp.trajectory_impurity();</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">for</span> (i=0; i&lt;imp.<a class="code" href="classWImpurity.html#a52bbda5c7abe56811f691f56b776fb49">l</a>; i++)</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a>.<a class="code" href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">num_channels</a>(); j++)</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; imp.<a class="code" href="classWImpurity.html#a1281fb828bc98180149b54814b69519c">trajectory</a>[i][j].<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> </div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                  &lt;&lt; imp.<a class="code" href="classWImpurity.html#a1281fb828bc98180149b54814b69519c">trajectory</a>[i][j].<a class="code" href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">stddev</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">// Mean of cross product of distances (cluster score)</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    s &lt;&lt; imp.a.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    }</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (imp.t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a35bd48c587e422a2d34d9dbd53bce18e">wnim_cluster</a>)</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *p;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;((&quot;</span>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">for</span> (p=imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">head</a>(); p != 0; p=p-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>())</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="comment">// Ouput cluster member and its mean distance to others</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(p) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        imp.cluster_member_mean(imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>.<a class="code" href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">item</a>(p)) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">next</a>() != 0)</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="comment">// Mean of cross product of distances (cluster score)</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    s &lt;&lt; imp.a.<a class="code" href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">mean</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (imp.t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8af71c071c0d0bcbad40bf748ec987714a">wnim_ols</a>)</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    {</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="comment">/* Output intercept, feature names and coefficients for ols model */</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> <a class="code" href="ctype16_8c.html#a207fd5507206d307cd63f95374fcd00d">X</a>,Y;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="classEST__TSimpleVector.html">EST_IVector</a> included;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> coeffs;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <a class="code" href="classEST__TList.html">EST_StrList</a> feat_names;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> coeffsl;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <a class="code" href="classEST__FMatrix.html">EST_FMatrix</a> pred;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <span class="keywordtype">float</span> cor=0.0,rmse;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;((&quot;</span>;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="comment">// Load the sample members into matrices for ols</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        part_to_ols_data(X,Y,included,feat_names,imp.<a class="code" href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">members</a>,*(imp.<a class="code" href="classWImpurity.html#aa3ea06e483a39b528ea86ea9febe6dae">data</a>));</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="EST__multistats_8h.html#a61c523614c7e26635ad5915c56f7085d">robust_ols</a>(X,Y,included,coeffsl))</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            printf(<span class="stringliteral">&quot;no robust ols\n&quot;</span>);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="comment">// shouldn&#39;t happen </span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <a class="code" href="EST__multistats_8h.html#abe236b778463ea44f186a3e10df0b553">ols_apply</a>(X,coeffsl,pred);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <a class="code" href="EST__multistats_8h.html#a8694b81ef366e8f06e6e09b2c4b7a797">ols_test</a>(Y,pred,cor,rmse);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">for</span> (i=0; i&lt;coeffsl.<a class="code" href="classEST__TMatrix.html#a70c5c633a9e32b546c8e524cb4d2163a">num_rows</a>(); i++)</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            {</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                s &lt;&lt; feat_names.<a class="code" href="classEST__TList.html#a4d6fa93e196f0550a6d8fa391d76b0ec">nth</a>(i);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                s &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                s &lt;&lt; coeffsl[i];</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                s &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        }</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="comment">// Mean of cross product of distances (cluster score)</span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> &lt;&lt; cor &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (imp.t == <a class="code" href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a8cb884489fbd2cbb87aa89b6bdb5bb9b">wnim_class</a>)</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="classEST__UItem.html">EST_Litem</a> *i;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="classEST__String.html">EST_String</a> name;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordtype">double</span> prob;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">for</span> (i=imp.p.<a class="code" href="classEST__DiscreteProbDistribution.html#a34a4ede0d0b2aad8a1403c016763ac5c">item_start</a>(); !imp.p.<a class="code" href="classEST__DiscreteProbDistribution.html#ac60f548c48468368f191b9987170ce0f">item_end</a>(i); i=imp.p.<a class="code" href="classEST__DiscreteProbDistribution.html#aa692da9143eb76c92a3d37cb9bb5e9d8">item_next</a>(i))</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        imp.p.<a class="code" href="classEST__DiscreteProbDistribution.html#a8d85bc2e4c5b81d79a612c6a590f605d">item_prob</a>(i,name,prob);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; prob &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    }</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    s &lt;&lt; imp.p.<a class="code" href="classEST__DiscreteProbDistribution.html#a1f152d5423c250c8493081866f1554b1">most_probable</a>(&amp;prob) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;([WImpurity unset])&quot;</span>;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    </div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">return</span> s;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;}</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="ttc" id="EST__Wagon_8h_html_a02dbaf04eab7401a0096e39b8c27de2eaf2f838f6bf2f72307a55f8d7fba8f7d2"><div class="ttname"><a href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eaf2f838f6bf2f72307a55f8d7fba8f7d2">wnop_matches</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00097">EST_Wagon.h:97</a></div></div>
<div class="ttc" id="EST__multistats_8h_html_a8694b81ef366e8f06e6e09b2c4b7a797"><div class="ttname"><a href="EST__multistats_8h.html#a8694b81ef366e8f06e6e09b2c4b7a797">ols_test</a></div><div class="ttdeci">int ols_test(const EST_FMatrix &amp;real, const EST_FMatrix &amp;predicted, float &amp;correlation, float &amp;rmse)</div><div class="ttdef"><b>Definition:</b> <a href="EST__ols_8cc_source.html#l00288">EST_ols.cc:288</a></div></div>
<div class="ttc" id="classWDataSet_html_ac503b6556b5fcfb395fad0ed58a7e6d3"><div class="ttname"><a href="classWDataSet.html#ac503b6556b5fcfb395fad0ed58a7e6d3">WDataSet::width</a></div><div class="ttdeci">int width(void) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00094">EST_Wagon.h:94</a></div></div>
<div class="ttc" id="classEST__Val_html_a68cc7769279e38104c57c06754889d12"><div class="ttname"><a href="classEST__Val.html#a68cc7769279e38104c57c06754889d12">EST_Val::Int</a></div><div class="ttdeci">int Int(void) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Val_8h_source.html#l00141">EST_Val.h:141</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a070a8836e442581e8937b48a789784a8a65b5613fdef5307f5cf582bc8802b15e"><div class="ttname"><a href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a65b5613fdef5307f5cf582bc8802b15e">wnim_vector</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00140">EST_Wagon.h:140</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a458c1fcc0431562424bc7bfe1a9602c7"><div class="ttname"><a href="EST__Wagon_8h.html#a458c1fcc0431562424bc7bfe1a9602c7">wgn_count_field</a></div><div class="ttdeci">int wgn_count_field</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00071">wagon.cc:71</a></div></div>
<div class="ttc" id="classWImpurity_html_aa3ea06e483a39b528ea86ea9febe6dae"><div class="ttname"><a href="classWImpurity.html#aa3ea06e483a39b528ea86ea9febe6dae">WImpurity::data</a></div><div class="ttdeci">const WVectorVector * data</div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00159">EST_Wagon.h:159</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_abfbf93a0a53b1c05c1f073780cbad5f9"><div class="ttname"><a href="EST__Wagon_8h.html#abfbf93a0a53b1c05c1f073780cbad5f9">wgn_vertex_output</a></div><div class="ttdeci">EST_String wgn_vertex_output</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00078">wagon.cc:78</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_ab6408aaee6f166bc5a4b606b4738bebf"><div class="ttname"><a href="EST__Wagon_8h.html#ab6408aaee6f166bc5a4b606b4738bebf">wgn_score_question</a></div><div class="ttdeci">float wgn_score_question(WQuestion &amp;q, WVectorVector &amp;ds)</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l01091">wagon.cc:1091</a></div></div>
<div class="ttc" id="classEST__DiscreteProbDistribution_html_aa692da9143eb76c92a3d37cb9bb5e9d8"><div class="ttname"><a href="classEST__DiscreteProbDistribution.html#aa692da9143eb76c92a3d37cb9bb5e9d8">EST_DiscreteProbDistribution::item_next</a></div><div class="ttdeci">EST_Litem * item_next(EST_Litem *idx) const </div><div class="ttdoc">Used for iterating through members of the distribution. </div><div class="ttdef"><b>Definition:</b> <a href="EST__DProbDist_8cc_source.html#l00388">EST_DProbDist.cc:388</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a02dbaf04eab7401a0096e39b8c27de2ea249f793c25a6688b3782ed0b86423996"><div class="ttname"><a href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea249f793c25a6688b3782ed0b86423996">wnop_in</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00097">EST_Wagon.h:97</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a070a8836e442581e8937b48a789784a8a981082b3f3f4b34281dba42d0e810697"><div class="ttname"><a href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a981082b3f3f4b34281dba42d0e810697">wnim_float</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00139">EST_Wagon.h:139</a></div></div>
<div class="ttc" id="EST__multistats_8h_html_a61c523614c7e26635ad5915c56f7085d"><div class="ttname"><a href="EST__multistats_8h.html#a61c523614c7e26635ad5915c56f7085d">robust_ols</a></div><div class="ttdeci">int robust_ols(const EST_FMatrix &amp;X, const EST_FMatrix &amp;Y, EST_FMatrix &amp;coeffs)</div><div class="ttdef"><b>Definition:</b> <a href="EST__ols_8cc_source.html#l00073">EST_ols.cc:73</a></div></div>
<div class="ttc" id="classEST__DiscreteProbDistribution_html_a1f152d5423c250c8493081866f1554b1"><div class="ttname"><a href="classEST__DiscreteProbDistribution.html#a1f152d5423c250c8493081866f1554b1">EST_DiscreteProbDistribution::most_probable</a></div><div class="ttdeci">const EST_String &amp; most_probable(double *prob=NULL) const </div><div class="ttdoc">Return the most probable member of the distribution. </div><div class="ttdef"><b>Definition:</b> <a href="EST__DProbDist_8cc_source.html#l00184">EST_DProbDist.cc:184</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_acc3dbc711b4ece6d50bbc753cb1d14e4"><div class="ttname"><a href="EST__Wagon_8h.html#acc3dbc711b4ece6d50bbc753cb1d14e4">wgn_dataset</a></div><div class="ttdeci">WDataSet wgn_dataset</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00059">wagon.cc:59</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a070a8836e442581e8937b48a789784a8a35bd48c587e422a2d34d9dbd53bce18e"><div class="ttname"><a href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a35bd48c587e422a2d34d9dbd53bce18e">wnim_cluster</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00140">EST_Wagon.h:140</a></div></div>
<div class="ttc" id="classWNode_html_a87dcf6d97e1a696d7d4973a6fa91b6c8"><div class="ttname"><a href="classWNode.html#a87dcf6d97e1a696d7d4973a6fa91b6c8">WNode::predict</a></div><div class="ttdeci">EST_Val predict(const WVector &amp;w)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00051">wagon_aux.cc:51</a></div></div>
<div class="ttc" id="classEST__SuffStats_html_aaf2a30afb9c88bc4c142df80ba2de5bb"><div class="ttname"><a href="classEST__SuffStats.html#aaf2a30afb9c88bc4c142df80ba2de5bb">EST_SuffStats::stddev</a></div><div class="ttdeci">double stddev(void) const </div><div class="ttdoc">standard deviation of currently cummulated values </div><div class="ttdef"><b>Definition:</b> <a href="EST__simplestats_8h_source.html#l00168">EST_simplestats.h:168</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0baa7783f5cea2aebfee6b4dccd0fa9bf0b"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baa7783f5cea2aebfee6b4dccd0fa9bf0b">wndt_float</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00071">EST_Wagon.h:71</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a070a8836e442581e8937b48a789784a8af71c071c0d0bcbad40bf748ec987714a"><div class="ttname"><a href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8af71c071c0d0bcbad40bf748ec987714a">wnim_ols</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00140">EST_Wagon.h:140</a></div></div>
<div class="ttc" id="classEST__UItem_html"><div class="ttname"><a href="classEST__UItem.html">EST_UItem</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__UList_8h_source.html#l00049">EST_UList.h:49</a></div></div>
<div class="ttc" id="classEST__TMatrix_html_a60701b2848c03918a527bb09870529bd"><div class="ttname"><a href="classEST__TMatrix.html#a60701b2848c03918a527bb09870529bd">EST_TMatrix::num_columns</a></div><div class="ttdeci">ssize_t num_columns() const </div><div class="ttdoc">return number of columns </div><div class="ttdef"><b>Definition:</b> <a href="EST__TMatrix_8h_source.html#l00179">EST_TMatrix.h:179</a></div></div>
<div class="ttc" id="classWImpurity_html_ac27466f58434948175f11838c20d0817"><div class="ttname"><a href="classWImpurity.html#ac27466f58434948175f11838c20d0817">WImpurity::cluster_distance</a></div><div class="ttdeci">float cluster_distance(int i)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00848">wagon_aux.cc:848</a></div></div>
<div class="ttc" id="classEST__SuffStats_html_aab76e8700a9a3889781c18f7a438edba"><div class="ttname"><a href="classEST__SuffStats.html#aab76e8700a9a3889781c18f7a438edba">EST_SuffStats::cumulate</a></div><div class="ttdeci">void cumulate(double a, double count=1.0)</div><div class="ttdef"><b>Definition:</b> <a href="EST__simplestats_8h_source.html#l00170">EST_simplestats.h:170</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a6aa5e8027c19e4fe6252c8464c123b14"><div class="ttname"><a href="EST__Wagon_8h.html#a6aa5e8027c19e4fe6252c8464c123b14">wgn_predictee</a></div><div class="ttdeci">int wgn_predictee</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00073">wagon.cc:73</a></div></div>
<div class="ttc" id="classEST__Regex_html"><div class="ttname"><a href="classEST__Regex.html">EST_Regex</a></div><div class="ttdoc">A Regular expression class to go with the CSTR EST_String class. </div><div class="ttdef"><b>Definition:</b> <a href="EST__Regex_8h_source.html#l00056">EST_Regex.h:56</a></div></div>
<div class="ttc" id="editline_8c_html_ad13ca324f19a9cb8a196855ec73d2304"><div class="ttname"><a href="editline_8c.html#ad13ca324f19a9cb8a196855ec73d2304">left</a></div><div class="ttdeci">STATIC void left(STATUS Change)</div><div class="ttdef"><b>Definition:</b> <a href="editline_8c_source.html#l00523">editline.c:523</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_ad5f4b3cd2fa1a964e6585293054cd4b2"><div class="ttname"><a href="EST__Wagon_8h.html#ad5f4b3cd2fa1a964e6585293054cd4b2">wgn_find_split</a></div><div class="ttdeci">void wgn_find_split(WQuestion &amp;q, WVectorVector &amp;ds, WVectorVector &amp;y, WVectorVector &amp;n)</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00775">wagon.cc:775</a></div></div>
<div class="ttc" id="classWQuestion_html_a05f5f1e0780cb918df13fac46d19a979"><div class="ttname"><a href="classWQuestion.html#a05f5f1e0780cb918df13fac46d19a979">WQuestion::ask</a></div><div class="ttdeci">int ask(const WVector &amp;w) const </div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00263">wagon_aux.cc:263</a></div></div>
<div class="ttc" id="classWImpurity_html_abd46e7ee707822fe3d0d4a806fee6845"><div class="ttname"><a href="classWImpurity.html#abd46e7ee707822fe3d0d4a806fee6845">WImpurity::measure</a></div><div class="ttdeci">float measure(void)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00424">wagon_aux.cc:424</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_ae54262f82762c4498aa26b6a7f52b6ac"><div class="ttname"><a href="EST__Wagon_8h.html#ae54262f82762c4498aa26b6a7f52b6ac">wgn_discretes</a></div><div class="ttdeci">Discretes wgn_discretes</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00057">wagon.cc:57</a></div></div>
<div class="ttc" id="classEST__Track_html_adcf56a7204cb8f8fcaf8059d7cc1e75e"><div class="ttname"><a href="classEST__Track.html#adcf56a7204cb8f8fcaf8059d7cc1e75e">EST_Track::num_channels</a></div><div class="ttdeci">int num_channels() const </div><div class="ttdoc">return number of channels in track </div><div class="ttdef"><b>Definition:</b> <a href="EST__Track_8h_source.html#l00657">EST_Track.h:657</a></div></div>
<div class="ttc" id="classEST__SuffStats_html_ad854f0a905ee8d60b775188b9582c3ca"><div class="ttname"><a href="classEST__SuffStats.html#ad854f0a905ee8d60b775188b9582c3ca">EST_SuffStats::mean</a></div><div class="ttdeci">double mean(void) const </div><div class="ttdoc">mean of currently cummulated values </div><div class="ttdef"><b>Definition:</b> <a href="EST__simplestats_8h_source.html#l00163">EST_simplestats.h:163</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html"><div class="ttname"><a href="EST__Wagon_8h.html">EST_Wagon.h</a></div></div>
<div class="ttc" id="siod__defs_8h_html_a263efce0e5cda1d387a1a43f94715445"><div class="ttname"><a href="siod__defs_8h.html#a263efce0e5cda1d387a1a43f94715445">NIL</a></div><div class="ttdeci">#define NIL</div><div class="ttdef"><b>Definition:</b> <a href="siod__defs_8h_source.html#l00092">siod_defs.h:92</a></div></div>
<div class="ttc" id="editline_8c_html_ac5dc57ca093112cca8aa9c027c8975af"><div class="ttname"><a href="editline_8c.html#ac5dc57ca093112cca8aa9c027c8975af">right</a></div><div class="ttdeci">STATIC void right(STATUS Change)</div><div class="ttdef"><b>Definition:</b> <a href="editline_8c_source.html#l00538">editline.c:538</a></div></div>
<div class="ttc" id="siod_8h_html_aed6a5b33088661a1e2bb79132d7806c8"><div class="ttname"><a href="siod_8h.html#aed6a5b33088661a1e2bb79132d7806c8">siod_llength</a></div><div class="ttdeci">int siod_llength(LISP list)</div><div class="ttdef"><b>Definition:</b> <a href="siod_8cc_source.html#l00202">siod.cc:202</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="classWQuestion_html_a956c8c5212cf409e3ee8f9b859ea85b5"><div class="ttname"><a href="classWQuestion.html#a956c8c5212cf409e3ee8f9b859ea85b5">WQuestion::get_op</a></div><div class="ttdeci">wn_oper get_op(void) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00130">EST_Wagon.h:130</a></div></div>
<div class="ttc" id="classEST__TVector_html_ac70ec4d139820c43ed64c2e505f9586f"><div class="ttname"><a href="classEST__TVector.html#ac70ec4d139820c43ed64c2e505f9586f">EST_TVector::a_no_check</a></div><div class="ttdeci">INLINE const T &amp; a_no_check(ssize_t n) const </div><div class="ttdoc">read-only const access operator: without bounds checking </div><div class="ttdef"><b>Definition:</b> <a href="EST__TVector_8h_source.html#l00254">EST_TVector.h:254</a></div></div>
<div class="ttc" id="EST__math_8h_html"><div class="ttname"><a href="EST__math_8h.html">EST_math.h</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a3009338202260072751f22346b8db39e"><div class="ttname"><a href="EST__Wagon_8h.html#a3009338202260072751f22346b8db39e">wgn_UnitTrack</a></div><div class="ttdeci">EST_Track wgn_UnitTrack</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00064">wagon.cc:64</a></div></div>
<div class="ttc" id="group__utilityfunctionsforstrings_html_ga41ce26086fb016373648fa01f0509b79"><div class="ttname"><a href="group__utilityfunctionsforstrings.html#ga41ce26086fb016373648fa01f0509b79">itoString</a></div><div class="ttdeci">EST_String itoString(int n)</div><div class="ttdoc">Make a EST_String object from an integer. </div><div class="ttdef"><b>Definition:</b> <a href="util__io_8cc_source.html#l00141">util_io.cc:141</a></div></div>
<div class="ttc" id="classEST__TMatrix_html_a70c5c633a9e32b546c8e524cb4d2163a"><div class="ttname"><a href="classEST__TMatrix.html#a70c5c633a9e32b546c8e524cb4d2163a">EST_TMatrix::num_rows</a></div><div class="ttdeci">ssize_t num_rows() const </div><div class="ttdoc">return number of rows </div><div class="ttdef"><b>Definition:</b> <a href="EST__TMatrix_8h_source.html#l00177">EST_TMatrix.h:177</a></div></div>
<div class="ttc" id="classEST__TList_html_a4d6fa93e196f0550a6d8fa391d76b0ec"><div class="ttname"><a href="classEST__TList.html#a4d6fa93e196f0550a6d8fa391d76b0ec">EST_TList::nth</a></div><div class="ttdeci">T &amp; nth(int n)</div><div class="ttdoc">return the Nth value </div><div class="ttdef"><b>Definition:</b> <a href="EST__TList_8h_source.html#l00145">EST_TList.h:145</a></div></div>
<div class="ttc" id="classWImpurity_html_a1281fb828bc98180149b54814b69519c"><div class="ttname"><a href="classWImpurity.html#a1281fb828bc98180149b54814b69519c">WImpurity::trajectory</a></div><div class="ttdeci">EST_SuffStats ** trajectory</div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00158">EST_Wagon.h:158</a></div></div>
<div class="ttc" id="wagon__aux_8cc_html_af07d105aadde72a00366b333ebfdd9c8"><div class="ttname"><a href="wagon__aux_8cc.html#af07d105aadde72a00366b333ebfdd9c8">operator&lt;&lt;</a></div><div class="ttdeci">ostream &amp; operator&lt;&lt;(ostream &amp;s, WNode &amp;n)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00153">wagon_aux.cc:153</a></div></div>
<div class="ttc" id="EST__socket__win32_8h_html_af629ed855824cf5955b54529adf78ad6"><div class="ttname"><a href="EST__socket__win32_8h.html#af629ed855824cf5955b54529adf78ad6">ssize_t</a></div><div class="ttdeci">int ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="EST__socket__win32_8h_source.html#l00048">EST_socket_win32.h:48</a></div></div>
<div class="ttc" id="EST__cutils_8h_html_a5a2398559d3cb1f4ebffa87a70bc941a"><div class="ttname"><a href="EST__cutils_8h.html#a5a2398559d3cb1f4ebffa87a70bc941a">streq</a></div><div class="ttdeci">#define streq(X, Y)</div><div class="ttdef"><b>Definition:</b> <a href="EST__cutils_8h_source.html#l00057">EST_cutils.h:57</a></div></div>
<div class="ttc" id="classEST__DiscreteProbDistribution_html_a34a4ede0d0b2aad8a1403c016763ac5c"><div class="ttname"><a href="classEST__DiscreteProbDistribution.html#a34a4ede0d0b2aad8a1403c016763ac5c">EST_DiscreteProbDistribution::item_start</a></div><div class="ttdeci">EST_Litem * item_start() const </div><div class="ttdoc">Used for iterating through members of the distribution. </div><div class="ttdef"><b>Definition:</b> <a href="EST__DProbDist_8cc_source.html#l00372">EST_DProbDist.cc:372</a></div></div>
<div class="ttc" id="classWImpurity_html_aad26e18a3cb4a66ab14346264bb3274d"><div class="ttname"><a href="classWImpurity.html#aad26e18a3cb4a66ab14346264bb3274d">WImpurity::members</a></div><div class="ttdeci">EST_IList members</div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00156">EST_Wagon.h:156</a></div></div>
<div class="ttc" id="classEST__DiscreteProbDistribution_html_ac60f548c48468368f191b9987170ce0f"><div class="ttname"><a href="classEST__DiscreteProbDistribution.html#ac60f548c48468368f191b9987170ce0f">EST_DiscreteProbDistribution::item_end</a></div><div class="ttdeci">int item_end(EST_Litem *idx) const </div><div class="ttdoc">Used for iterating through members of the distribution. </div><div class="ttdef"><b>Definition:</b> <a href="EST__DProbDist_8cc_source.html#l00380">EST_DProbDist.cc:380</a></div></div>
<div class="ttc" id="classDiscretes_html_a1392be4a071b7f25cccfe51c06a9f072"><div class="ttname"><a href="classDiscretes.html#a1392be4a071b7f25cccfe51c06a9f072">Discretes::def</a></div><div class="ttdeci">int def(const EST_StrList &amp;members)</div><div class="ttdef"><b>Definition:</b> <a href="EST__Discrete_8cc_source.html#l00160">EST_Discrete.cc:160</a></div></div>
<div class="ttc" id="classWImpurity_html_ad1b055e817d95581ce1a5964d2d4c8c7"><div class="ttname"><a href="classWImpurity.html#ad1b055e817d95581ce1a5964d2d4c8c7">WImpurity::member_counts</a></div><div class="ttdeci">EST_FList member_counts</div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00157">EST_Wagon.h:157</a></div></div>
<div class="ttc" id="classWNode_html_aa437b1550ae3c0569214dda9de5a760f"><div class="ttname"><a href="classWNode.html#aa437b1550ae3c0569214dda9de5a760f">WNode::held_out_prune</a></div><div class="ttdeci">void held_out_prune(void)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00107">wagon_aux.cc:107</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0bae456ce9336ec563f5660a3bb4fe6ff7b"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0bae456ce9336ec563f5660a3bb4fe6ff7b">wndt_ols</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00074">EST_Wagon.h:74</a></div></div>
<div class="ttc" id="EST__unix_8h_html"><div class="ttname"><a href="EST__unix_8h.html">EST_unix.h</a></div></div>
<div class="ttc" id="classEST__UItem_html_afc5292d4da883de227f5a92bb6df719d"><div class="ttname"><a href="classEST__UItem.html#afc5292d4da883de227f5a92bb6df719d">EST_UItem::next</a></div><div class="ttdeci">EST_UItem * next()</div><div class="ttdef"><b>Definition:</b> <a href="EST__UList_8h_source.html#l00055">EST_UList.h:55</a></div></div>
<div class="ttc" id="classWImpurity_html_aa095bf023cec588240e2567a9bcf4c84"><div class="ttname"><a href="classWImpurity.html#aa095bf023cec588240e2567a9bcf4c84">WImpurity::in_cluster</a></div><div class="ttdeci">int in_cluster(int i)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00862">wagon_aux.cc:862</a></div></div>
<div class="ttc" id="classWQuestion_html_a1500599f2092b5bbfd341567b1cfcf7f"><div class="ttname"><a href="classWQuestion.html#a1500599f2092b5bbfd341567b1cfcf7f">WQuestion::get_fp</a></div><div class="ttdeci">int get_fp(void) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00129">EST_Wagon.h:129</a></div></div>
<div class="ttc" id="classWNode_html_a69417fe7c7ddc6d65430264c41ad2aae"><div class="ttname"><a href="classWNode.html#a69417fe7c7ddc6d65430264c41ad2aae">WNode::predict_node</a></div><div class="ttdeci">WNode * predict_node(const WVector &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00061">wagon_aux.cc:61</a></div></div>
<div class="ttc" id="siod_8h_html_a685a8867a8e1791fa0e2d180b73a31b1"><div class="ttname"><a href="siod_8h.html#a685a8867a8e1791fa0e2d180b73a31b1">vload</a></div><div class="ttdeci">LISP vload(const char *fname, long cflag)</div><div class="ttdef"><b>Definition:</b> <a href="slib__file_8cc_source.html#l00632">slib_file.cc:632</a></div></div>
<div class="ttc" id="EST__cutils_8h_html"><div class="ttname"><a href="EST__cutils_8h.html">EST_cutils.h</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a02dbaf04eab7401a0096e39b8c27de2ea04218402a23ed4e6e65f1d4381d45c08"><div class="ttname"><a href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea04218402a23ed4e6e65f1d4381d45c08">wnop_lessthan</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00097">EST_Wagon.h:97</a></div></div>
<div class="ttc" id="siod_8h_html_a068d1a2316345039392aca87125d6d63"><div class="ttname"><a href="siod_8h.html#a068d1a2316345039392aca87125d6d63">siod_list_to_strlist</a></div><div class="ttdeci">void siod_list_to_strlist(LISP l, EST_StrList &amp;a)</div><div class="ttdef"><b>Definition:</b> <a href="siod_8cc_source.html#l00520">siod.cc:520</a></div></div>
<div class="ttc" id="siod_8h_html_a99bea768cbec1447ea859195e9308f1f"><div class="ttname"><a href="siod_8h.html#a99bea768cbec1447ea859195e9308f1f">get_c_string</a></div><div class="ttdeci">const char * get_c_string(LISP x)</div><div class="ttdef"><b>Definition:</b> <a href="slib_8cc_source.html#l00638">slib.cc:638</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a02dbaf04eab7401a0096e39b8c27de2eade6b4509b0d90b5c37aae9ba9559ded2"><div class="ttname"><a href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eade6b4509b0d90b5c37aae9ba9559ded2">wnop_greaterthan</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00096">EST_Wagon.h:96</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0bab905486a4b7cbe0445b87416eddf532c"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0bab905486a4b7cbe0445b87416eddf532c">wndt_class</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00071">EST_Wagon.h:71</a></div></div>
<div class="ttc" id="classWImpurity_html_ada30c720c803ea099ad859a55aa12cfa"><div class="ttname"><a href="classWImpurity.html#ada30c720c803ea099ad859a55aa12cfa">WImpurity::cumulate</a></div><div class="ttdeci">void cumulate(const float pv, double count=1.0)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00915">wagon_aux.cc:915</a></div></div>
<div class="ttc" id="classEST__Track_html_a7e810b90df281e76e35e3b7b9a1e9ac1"><div class="ttname"><a href="classEST__Track.html#a7e810b90df281e76e35e3b7b9a1e9ac1">EST_Track::a</a></div><div class="ttdeci">float &amp; a(ssize_t i, int c=0)</div><div class="ttdef"><b>Definition:</b> <a href="EST__Track_8cc_source.html#l01025">EST_Track.cc:1025</a></div></div>
<div class="ttc" id="classWImpurity_html_ae24483c1ba3bca4941bed4312ad804b5"><div class="ttname"><a href="classWImpurity.html#ae24483c1ba3bca4941bed4312ad804b5">WImpurity::WImpurity</a></div><div class="ttdeci">WImpurity()</div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00163">EST_Wagon.h:163</a></div></div>
<div class="ttc" id="classEST__TSimpleVector_html"><div class="ttname"><a href="classEST__TSimpleVector.html">EST_TSimpleVector&lt; int &gt;</a></div></div>
<div class="ttc" id="fft_8cc_html_abf4381d3028f297334a3b2df5e4d1e8e"><div class="ttname"><a href="fft_8cc.html#abf4381d3028f297334a3b2df5e4d1e8e">l2</a></div><div class="ttdeci">#define l2</div></div>
<div class="ttc" id="EST__Wagon_8h_html_a02dbaf04eab7401a0096e39b8c27de2eaf47270e18d3ff93f2eafd8bea946b953"><div class="ttname"><a href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eaf47270e18d3ff93f2eafd8bea946b953">wnop_is</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00097">EST_Wagon.h:97</a></div></div>
<div class="ttc" id="EST__multistats_8h_html_abe236b778463ea44f186a3e10df0b553"><div class="ttname"><a href="EST__multistats_8h.html#abe236b778463ea44f186a3e10df0b553">ols_apply</a></div><div class="ttdeci">int ols_apply(const EST_FMatrix &amp;samples, const EST_FMatrix &amp;coeffs, EST_FMatrix &amp;res)</div><div class="ttdef"><b>Definition:</b> <a href="EST__ols_8cc_source.html#l00185">EST_ols.cc:185</a></div></div>
<div class="ttc" id="classWDataSet_html_aa8d44b3ea9ed6069a1eafb5463773d21"><div class="ttname"><a href="classWDataSet.html#aa8d44b3ea9ed6069a1eafb5463773d21">WDataSet::feat_name</a></div><div class="ttdeci">const EST_String &amp; feat_name(const int &amp;i) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00092">EST_Wagon.h:92</a></div></div>
<div class="ttc" id="classWImpurity_html_a52bbda5c7abe56811f691f56b776fb49"><div class="ttname"><a href="classWImpurity.html#a52bbda5c7abe56811f691f56b776fb49">WImpurity::l</a></div><div class="ttdeci">int l</div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00161">EST_Wagon.h:161</a></div></div>
<div class="ttc" id="EST__bool_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="EST__bool_8h_source.html#l00119">EST_bool.h:119</a></div></div>
<div class="ttc" id="classWNode_html_a264593add807ad92c39b9f9712c094a8"><div class="ttname"><a href="classWNode.html#a264593add807ad92c39b9f9712c094a8">WNode::prune</a></div><div class="ttdeci">void prune(void)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00083">wagon_aux.cc:83</a></div></div>
<div class="ttc" id="classWNode_html"><div class="ttname"><a href="classWNode.html">WNode</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00225">EST_Wagon.h:225</a></div></div>
<div class="ttc" id="classWImpurity_html_a6cb46946fdb9dcc7e3640ad015cd258f"><div class="ttname"><a href="classWImpurity.html#a6cb46946fdb9dcc7e3640ad015cd258f">WImpurity::value</a></div><div class="ttdeci">EST_Val value(void)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00361">wagon_aux.cc:361</a></div></div>
<div class="ttc" id="classEST__DiscreteProbDistribution_html_a8d85bc2e4c5b81d79a612c6a590f605d"><div class="ttname"><a href="classEST__DiscreteProbDistribution.html#a8d85bc2e4c5b81d79a612c6a590f605d">EST_DiscreteProbDistribution::item_prob</a></div><div class="ttdeci">void item_prob(EST_Litem *idx, EST_String &amp;s, double &amp;prob) const </div><div class="ttdoc">During iteration returns name and probability given index. </div><div class="ttdef"><b>Definition:</b> <a href="EST__DProbDist_8cc_source.html#l00418">EST_DProbDist.cc:418</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a49ad61df06ab44c05036e099bd3d7871"><div class="ttname"><a href="EST__Wagon_8h.html#a49ad61df06ab44c05036e099bd3d7871">wgn_count_field_name</a></div><div class="ttdeci">EST_String wgn_count_field_name</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00072">wagon.cc:72</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0ba2c086b6aa6fba76adfaf27efda1a7a69"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba2c086b6aa6fba76adfaf27efda1a7a69">wndt_trajectory</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00073">EST_Wagon.h:73</a></div></div>
<div class="ttc" id="EST__multistats_8h_html_a1755f8e220503f06e7209f3a66ae271a"><div class="ttname"><a href="EST__multistats_8h.html#a1755f8e220503f06e7209f3a66ae271a">mean</a></div><div class="ttdeci">float mean(EST_FVector &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="EST__multistats_8cc_source.html#l00044">EST_multistats.cc:44</a></div></div>
<div class="ttc" id="classEST__Val_html"><div class="ttname"><a href="classEST__Val.html">EST_Val</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Val_8h_source.html#l00075">EST_Val.h:75</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_ae853b723072d50a0bd37af1880c03de7"><div class="ttname"><a href="EST__Wagon_8h.html#ae853b723072d50a0bd37af1880c03de7">wgn_DistMatrix</a></div><div class="ttdeci">EST_FMatrix wgn_DistMatrix</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00061">wagon.cc:61</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a91c057d98cdd7eeaf1343c3400d301e3"><div class="ttname"><a href="EST__Wagon_8h.html#a91c057d98cdd7eeaf1343c3400d301e3">wagon_error</a></div><div class="ttdeci">#define wagon_error(WMESS)</div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00050">EST_Wagon.h:50</a></div></div>
<div class="ttc" id="classEST__Val_html_a94af38f134ea48132d9aa3a7041f6982"><div class="ttname"><a href="classEST__Val.html#a94af38f134ea48132d9aa3a7041f6982">EST_Val::string</a></div><div class="ttdeci">const EST_String &amp; string(void) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Val_8h_source.html#l00161">EST_Val.h:161</a></div></div>
<div class="ttc" id="classEST__String_html_a2ef18ba1743ae5e889745b88ebd520a8"><div class="ttname"><a href="classEST__String.html#a2ef18ba1743ae5e889745b88ebd520a8">EST_String::matches</a></div><div class="ttdeci">int matches(const char *e, ssize_t pos=0) const </div><div class="ttdoc">Exactly match this string? </div><div class="ttdef"><b>Definition:</b> <a href="EST__String_8cc_source.html#l00651">EST_String.cc:651</a></div></div>
<div class="ttc" id="EST__item__aux_8cc_html_a1df5fe11f53c95af603b87dfb85ec653"><div class="ttname"><a href="EST__item__aux_8cc.html#a1df5fe11f53c95af603b87dfb85ec653">int</a></div><div class="ttdeci">getString int</div><div class="ttdef"><b>Definition:</b> <a href="EST__item__aux_8cc_source.html#l00050">EST_item_aux.cc:50</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a6a24c2a3d1570722ff790accf3e2822e"><div class="ttname"><a href="EST__Wagon_8h.html#a6a24c2a3d1570722ff790accf3e2822e">wgn_predictee_name</a></div><div class="ttdeci">EST_String wgn_predictee_name</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00074">wagon.cc:74</a></div></div>
<div class="ttc" id="classEST__TList_html_a4796ddc854ff93fd7f86acd86b9e21a1"><div class="ttname"><a href="classEST__TList.html#a4796ddc854ff93fd7f86acd86b9e21a1">EST_TList::append</a></div><div class="ttdeci">void append(const T &amp;item)</div><div class="ttdoc">add item onto end of list </div><div class="ttdef"><b>Definition:</b> <a href="EST__TList_8h_source.html#l00196">EST_TList.h:196</a></div></div>
<div class="ttc" id="classWImpurity_html"><div class="ttname"><a href="classWImpurity.html">WImpurity</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00144">EST_Wagon.h:144</a></div></div>
<div class="ttc" id="classEST__SuffStats_html_a9d33e3347a514f3abfc5532371053b46"><div class="ttname"><a href="classEST__SuffStats.html#a9d33e3347a514f3abfc5532371053b46">EST_SuffStats::reset</a></div><div class="ttdeci">void reset(void)</div><div class="ttdoc">reset internal values </div><div class="ttdef"><b>Definition:</b> <a href="EST__simplestats_8h_source.html#l00153">EST_simplestats.h:153</a></div></div>
<div class="ttc" id="classEST__UList_html_a157db3e634c5c8faad11d2a79729419d"><div class="ttname"><a href="classEST__UList.html#a157db3e634c5c8faad11d2a79729419d">EST_UList::length</a></div><div class="ttdeci">int length() const </div><div class="ttdef"><b>Definition:</b> <a href="EST__UList_8cc_source.html#l00057">EST_UList.cc:57</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0ba833804d4b71108aa558efe8a98bbf344"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba833804d4b71108aa558efe8a98bbf344">wndt_ignore</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00076">EST_Wagon.h:76</a></div></div>
<div class="ttc" id="classWDataSet_html_aed4f7b4d8007ce2d39da25d1a552beee"><div class="ttname"><a href="classWDataSet.html#aed4f7b4d8007ce2d39da25d1a552beee">WDataSet::ignore_non_numbers</a></div><div class="ttdeci">void ignore_non_numbers()</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00162">wagon_aux.cc:162</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2269e118b62d8548b137f9029b36bacd"><div class="ttname"><a href="EST__Wagon_8h.html#a2269e118b62d8548b137f9029b36bacd">wgn_VertexTrack</a></div><div class="ttdeci">EST_Track wgn_VertexTrack</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00062">wagon.cc:62</a></div></div>
<div class="ttc" id="classWQuestion_html_a37a1148152ba8520a82ef8c41052bfe5"><div class="ttname"><a href="classWQuestion.html#a37a1148152ba8520a82ef8c41052bfe5">WQuestion::get_operandl</a></div><div class="ttdeci">const EST_IList &amp; get_operandl(void) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00132">EST_Wagon.h:132</a></div></div>
<div class="ttc" id="classEST__SuffStats_html_adf7a96c3f4779d0248cab32abb0c7bef"><div class="ttname"><a href="classEST__SuffStats.html#adf7a96c3f4779d0248cab32abb0c7bef">EST_SuffStats::samples</a></div><div class="ttdeci">double samples(void)</div><div class="ttdoc">number of samples in set </div><div class="ttdef"><b>Definition:</b> <a href="EST__simplestats_8h_source.html#l00157">EST_simplestats.h:157</a></div></div>
<div class="ttc" id="classWQuestion_html_a2d882c39cbb6eb5afde622b9ec3fe810"><div class="ttname"><a href="classWQuestion.html#a2d882c39cbb6eb5afde622b9ec3fe810">WQuestion::get_operand1</a></div><div class="ttdeci">const EST_Val get_operand1(void) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00131">EST_Wagon.h:131</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a02dbaf04eab7401a0096e39b8c27de2eab5fa5c1a6642bbd414704683c23d40c7"><div class="ttname"><a href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2eab5fa5c1a6642bbd414704683c23d40c7">wnop_equal</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00096">EST_Wagon.h:96</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a02dbaf04eab7401a0096e39b8c27de2ea16d544e882c689bbca285c276c09e5e2"><div class="ttname"><a href="EST__Wagon_8h.html#a02dbaf04eab7401a0096e39b8c27de2ea16d544e882c689bbca285c276c09e5e2">wnop_binary</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00096">EST_Wagon.h:96</a></div></div>
<div class="ttc" id="classWImpurity_html_a9c8e8ae4a7dd40580f95909f13626b7f"><div class="ttname"><a href="classWImpurity.html#a9c8e8ae4a7dd40580f95909f13626b7f">WImpurity::~WImpurity</a></div><div class="ttdeci">~WImpurity()</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00547">wagon_aux.cc:547</a></div></div>
<div class="ttc" id="ctype16_8c_html_a207fd5507206d307cd63f95374fcd00d"><div class="ttname"><a href="ctype16_8c.html#a207fd5507206d307cd63f95374fcd00d">X</a></div><div class="ttdeci">#define X</div></div>
<div class="ttc" id="EST__Wagon_8h_html_a070a8836e442581e8937b48a789784a8a6216a2ac3eaab763c16a7c6aead7c666"><div class="ttname"><a href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a6216a2ac3eaab763c16a7c6aead7c666">wnim_matrix</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00140">EST_Wagon.h:140</a></div></div>
<div class="ttc" id="classEST__TVector_html"><div class="ttname"><a href="classEST__TVector.html">EST_TVector&lt; WVector * &gt;</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0ba5f9c37e08e2fa7a7fbc97c0f85c88d4d"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba5f9c37e08e2fa7a7fbc97c0f85c88d4d">wndt_vector</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00073">EST_Wagon.h:73</a></div></div>
<div class="ttc" id="classEST__TList_html_a0e62c9a9be3f3f4aa21ce4b3d674bad6"><div class="ttname"><a href="classEST__TList.html#a0e62c9a9be3f3f4aa21ce4b3d674bad6">EST_TList::item</a></div><div class="ttdeci">T &amp; item(const EST_Litem *p)</div><div class="ttdef"><b>Definition:</b> <a href="EST__TList_8h_source.html#l00139">EST_TList.h:139</a></div></div>
<div class="ttc" id="EST__ilist__aux_8cc_html_a92c3dff3e5a16f4bdeabe1a89c98308e"><div class="ttname"><a href="EST__ilist__aux_8cc.html#a92c3dff3e5a16f4bdeabe1a89c98308e">ilist_member</a></div><div class="ttdeci">int ilist_member(const EST_IList &amp;l, int i)</div><div class="ttdef"><b>Definition:</b> <a href="EST__ilist__aux_8cc_source.html#l00053">EST_ilist_aux.cc:53</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0baadb2ec5193d7b6d893613033c66c8420"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0baadb2ec5193d7b6d893613033c66c8420">wndt_binary</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00071">EST_Wagon.h:71</a></div></div>
<div class="ttc" id="classWVector_html_aeda2c22a5592b9ef556138799f590e3c"><div class="ttname"><a href="classWVector.html#aeda2c22a5592b9ef556138799f590e3c">WVector::get_int_val</a></div><div class="ttdeci">int get_int_val(int n) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00060">EST_Wagon.h:60</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a070a8836e442581e8937b48a789784a8a8cb884489fbd2cbb87aa89b6bdb5bb9b"><div class="ttname"><a href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a8cb884489fbd2cbb87aa89b6bdb5bb9b">wnim_class</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00139">EST_Wagon.h:139</a></div></div>
<div class="ttc" id="classEST__UList_html_a36cd9a03aa4677736edb4866364a204f"><div class="ttname"><a href="classEST__UList.html#a36cd9a03aa4677736edb4866364a204f">EST_UList::head</a></div><div class="ttdeci">EST_UItem * head() const </div><div class="ttdef"><b>Definition:</b> <a href="EST__UList_8h_source.html#l00097">EST_UList.h:97</a></div></div>
<div class="ttc" id="classEST__SuffStats_html"><div class="ttname"><a href="classEST__SuffStats.html">EST_SuffStats</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__simplestats_8h_source.html#l00136">EST_simplestats.h:136</a></div></div>
<div class="ttc" id="classWVector_html_aa2801057eb32b269947b917d50374c60"><div class="ttname"><a href="classWVector.html#aa2801057eb32b269947b917d50374c60">WVector::get_flt_val</a></div><div class="ttdeci">float get_flt_val(int n) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00061">EST_Wagon.h:61</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0ba38aeb921f0a984cd8fceb38ef4c2ef11"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0ba38aeb921f0a984cd8fceb38ef4c2ef11">wndt_matrix</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00073">EST_Wagon.h:73</a></div></div>
<div class="ttc" id="classEST__TMatrix_html_a009a9313be243677e4e0de5e1ff16065"><div class="ttname"><a href="classEST__TMatrix.html#a009a9313be243677e4e0de5e1ff16065">EST_TMatrix::a_no_check</a></div><div class="ttdeci">INLINE const T &amp; a_no_check(ssize_t row, ssize_t col) const </div><div class="ttdoc">const access with no bounds check, care recommend </div><div class="ttdef"><b>Definition:</b> <a href="EST__TMatrix_8h_source.html#l00182">EST_TMatrix.h:182</a></div></div>
<div class="ttc" id="fft_8cc_html_ad91129aeadd7d76e6d3ac94a9e4312bb"><div class="ttname"><a href="fft_8cc.html#ad91129aeadd7d76e6d3ac94a9e4312bb">l1</a></div><div class="ttdeci">#define l1</div></div>
<div class="ttc" id="classEST__TSimpleMatrix_html_a315d47f4050c203fee80ad25d86696a5"><div class="ttname"><a href="classEST__TSimpleMatrix.html#a315d47f4050c203fee80ad25d86696a5">EST_TSimpleMatrix::resize</a></div><div class="ttdeci">void resize(int rows, int cols, int set=1)</div><div class="ttdoc">resize matrix </div><div class="ttdef"><b>Definition:</b> <a href="EST__TSimpleMatrix_8cc_source.html#l00083">EST_TSimpleMatrix.cc:83</a></div></div>
<div class="ttc" id="siod_8h_html_ad4f5aa1fdca23b52a8e5c8b519b58560"><div class="ttname"><a href="siod_8h.html#ad4f5aa1fdca23b52a8e5c8b519b58560">car</a></div><div class="ttdeci">LISP car(LISP x)</div><div class="ttdef"><b>Definition:</b> <a href="slib__list_8cc_source.html#l00115">slib_list.cc:115</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_ac434275635630491d51197de78364b8e"><div class="ttname"><a href="EST__Wagon_8h.html#ac434275635630491d51197de78364b8e">wgn_VertexFeats</a></div><div class="ttdeci">EST_Track wgn_VertexFeats</div><div class="ttdef"><b>Definition:</b> <a href="wagon_8cc_source.html#l00063">wagon.cc:63</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_ad1db85c4bce1e1e3a41889b45de16a88"><div class="ttname"><a href="EST__Wagon_8h.html#ad1db85c4bce1e1e3a41889b45de16a88">WGN_HUGE_VAL</a></div><div class="ttdeci">#define WGN_HUGE_VAL</div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00054">EST_Wagon.h:54</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a070a8836e442581e8937b48a789784a8a50397214b39b899edfc68bd87394a2b8"><div class="ttname"><a href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a50397214b39b899edfc68bd87394a2b8">wnim_trajectory</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00141">EST_Wagon.h:141</a></div></div>
<div class="ttc" id="EST__features__aux_8cc_html_afa02c4bbe9aa0e833dda8da46564fb3a"><div class="ttname"><a href="EST__features__aux_8cc.html#afa02c4bbe9aa0e833dda8da46564fb3a">EST_String</a></div><div class="ttdeci">EST_String</div><div class="ttdef"><b>Definition:</b> <a href="EST__features__aux_8cc_source.html#l00050">EST_features_aux.cc:50</a></div></div>
<div class="ttc" id="classWDataSet_html_ab9637ce57c55d23291a2be62fd692c31"><div class="ttname"><a href="classWDataSet.html#ab9637ce57c55d23291a2be62fd692c31">WDataSet::ftype</a></div><div class="ttdeci">int ftype(const int &amp;i) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00089">EST_Wagon.h:89</a></div></div>
<div class="ttc" id="EST__Token_8cc_html_a0ebfabc0016fe6b34c6134760b57319e"><div class="ttname"><a href="EST__Token_8cc.html#a0ebfabc0016fe6b34c6134760b57319e">quote_string</a></div><div class="ttdeci">EST_String quote_string(const EST_String &amp;s, const EST_String &amp;quote, const EST_String &amp;escape, int force)</div><div class="ttdef"><b>Definition:</b> <a href="EST__Token_8cc_source.html#l00844">EST_Token.cc:844</a></div></div>
<div class="ttc" id="vec__mat__aux_8cc_html_a273034f2be664dca880e10d3e16d156e"><div class="ttname"><a href="vec__mat__aux_8cc.html#a273034f2be664dca880e10d3e16d156e">sum</a></div><div class="ttdeci">float sum(const EST_FMatrix &amp;a)</div><div class="ttdoc">sum of elements </div><div class="ttdef"><b>Definition:</b> <a href="vec__mat__aux_8cc_source.html#l00147">vec_mat_aux.cc:147</a></div></div>
<div class="ttc" id="EST__bool_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="EST__bool_8h_source.html#l00118">EST_bool.h:118</a></div></div>
<div class="ttc" id="classEST__TVector_html_af51a6450aaa52230a6461b1f155d5e20"><div class="ttname"><a href="classEST__TVector.html#af51a6450aaa52230a6461b1f155d5e20">EST_TVector::n</a></div><div class="ttdeci">INLINE ssize_t n() const </div><div class="ttdoc">number of items in vector. </div><div class="ttdef"><b>Definition:</b> <a href="EST__TVector_8h_source.html#l00251">EST_TVector.h:251</a></div></div>
<div class="ttc" id="siod_8h_html_a7524e8ed46076397929b1908a38e417c"><div class="ttname"><a href="siod_8h.html#a7524e8ed46076397929b1908a38e417c">siod_member_str</a></div><div class="ttdeci">LISP siod_member_str(const char *key, LISP list)</div><div class="ttdef"><b>Definition:</b> <a href="siod_8cc_source.html#l00167">siod.cc:167</a></div></div>
<div class="ttc" id="EST__Token_8h_html"><div class="ttname"><a href="EST__Token_8h.html">EST_Token.h</a></div></div>
<div class="ttc" id="classWDataSet_html_a37ba56391dbc20ce4ac083ab92d2a295"><div class="ttname"><a href="classWDataSet.html#a37ba56391dbc20ce4ac083ab92d2a295">WDataSet::load_description</a></div><div class="ttdeci">void load_description(const EST_String &amp;descfname, LISP ignores)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00181">wagon_aux.cc:181</a></div></div>
<div class="ttc" id="classWQuestion_html"><div class="ttname"><a href="classWQuestion.html">WQuestion</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00099">EST_Wagon.h:99</a></div></div>
<div class="ttc" id="classWImpurity_html_a75458dfcc58d5725a176e6f33276e567"><div class="ttname"><a href="classWImpurity.html#a75458dfcc58d5725a176e6f33276e567">WImpurity::cluster_ranking</a></div><div class="ttdeci">float cluster_ranking(int i)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00877">wagon_aux.cc:877</a></div></div>
<div class="ttc" id="classEST__TSimpleVector_html_a92d3bb2b0244dcf2632a6c4151e583ee"><div class="ttname"><a href="classEST__TSimpleVector.html#a92d3bb2b0244dcf2632a6c4151e583ee">EST_TSimpleVector::resize</a></div><div class="ttdeci">void resize(int n, int set=1)</div><div class="ttdoc">resize vector </div><div class="ttdef"><b>Definition:</b> <a href="EST__TSimpleVector_8cc_source.html#l00067">EST_TSimpleVector.cc:67</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a070a8836e442581e8937b48a789784a8a51fec610736e8d45f16ce74b60cf46c4"><div class="ttname"><a href="EST__Wagon_8h.html#a070a8836e442581e8937b48a789784a8a51fec610736e8d45f16ce74b60cf46c4">wnim_unset</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00139">EST_Wagon.h:139</a></div></div>
<div class="ttc" id="siod_8h_html_ab6dbdeed0cc58bd0c513c07e8f8bdfb8"><div class="ttname"><a href="siod_8h.html#ab6dbdeed0cc58bd0c513c07e8f8bdfb8">cdr</a></div><div class="ttdeci">LISP cdr(LISP x)</div><div class="ttdef"><b>Definition:</b> <a href="slib__list_8cc_source.html#l00124">slib_list.cc:124</a></div></div>
<div class="ttc" id="EST__Wagon_8h_html_a2eec04c657e85e27795ee1a91c1fee0bacca8fefd3459621664f63d101ce382f9"><div class="ttname"><a href="EST__Wagon_8h.html#a2eec04c657e85e27795ee1a91c1fee0bacca8fefd3459621664f63d101ce382f9">wndt_cluster</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00073">EST_Wagon.h:73</a></div></div>
<div class="ttc" id="classEST__FMatrix_html"><div class="ttname"><a href="classEST__FMatrix.html">EST_FMatrix</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__FMatrix_8h_source.html#l00059">EST_FMatrix.h:59</a></div></div>
<div class="ttc" id="classWImpurity_html_a776bcad608e24066e4aff19fd8a7b1c5"><div class="ttname"><a href="classWImpurity.html#a776bcad608e24066e4aff19fd8a7b1c5">WImpurity::samples</a></div><div class="ttdeci">double samples(void)</div><div class="ttdef"><b>Definition:</b> <a href="wagon__aux_8cc_source.html#l00386">wagon_aux.cc:386</a></div></div>
<div class="ttc" id="classWVector_html"><div class="ttname"><a href="classWVector.html">WVector</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__Wagon_8h_source.html#l00056">EST_Wagon.h:56</a></div></div>
<div class="ttc" id="classEST__String_html"><div class="ttname"><a href="classEST__String.html">EST_String</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__String_8h_source.html#l00076">EST_String.h:76</a></div></div>
<div class="ttc" id="classEST__Val_html_afbe826f352207d1afed40a0eb8c6aa2f"><div class="ttname"><a href="classEST__Val.html#afbe826f352207d1afed40a0eb8c6aa2f">EST_Val::Float</a></div><div class="ttdeci">float Float(void) const </div><div class="ttdef"><b>Definition:</b> <a href="EST__Val_8h_source.html#l00149">EST_Val.h:149</a></div></div>
<div class="ttc" id="classEST__TList_html"><div class="ttname"><a href="classEST__TList.html">EST_TList</a></div><div class="ttdef"><b>Definition:</b> <a href="EST__TList_8h_source.html#l00061">EST_TList.h:61</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a2a5b97680f4688c5edec2038dd4832f.html">stats</a></li><li class="navelem"><a class="el" href="dir_e84613e99e6d33ef276ff2505cba96ca.html">wagon</a></li><li class="navelem"><a class="el" href="wagon__aux_8cc.html">wagon_aux.cc</a></li>
    <li class="footer">Generated on Fri Oct 6 2017 18:25:29 for Edinburgh Speech Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Edinburgh Speech Tools: The Tilt Intonation Model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="est.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Edinburgh Speech Tools
   &#160;<span id="projectnumber">2.1-release</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('esttilt.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">The Tilt Intonation Model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><em>Tilt</em> is a phonetic model of intonation that represents intonation as a sequence of continuously parameterised events.</p>
<p>The tilt library is a set of functions which analyses, synthesizes and manipulates tilt representations.</p>
<h1><a class="anchor" id="tilt-overview"></a>
Theoretical Overview</h1>
<p>The basic unit in the tilt model is the <em>intonational event</em>. Events occur as instants with nothing between them, as opposed to segmental based phenomena where units occur in a contiguous sequence. The basic types of intonational event are <em>pitch accents</em> and (following the popular terminology) <em>boundary tones</em>. Pitch accents (denoted by the letter a) are F0 excursions associated with syllables which are used by the speaker to give some degree of emphasis to a particular word or syllable. In the tilt model, boundary tones (b) are rising F0 excursions which occur at the edges of intonational phrases and as well as giving the hearer a cue as to the end of the phrase, can also signal effects such as continuation and questioning. A combination event ab occurs when a pitch accent and boundary tone occur so close to one another that only a single pitch movement is observed. There are different kinds of pitch accents and boundary tones: the choice of pitch accent and boundary tone allows the speaker to produce different global intonational tunes which can indicate questions, statements, moods etc to the hearer.</p>
<p><a class="anchor" id="tilt-f0-representation"></a></p><div class="image">
<img src="tilt-f0-representation.svg" alt="tilt-f0-representation.svg"/>
<div class="caption">
Schematic F0 representation</div></div>
<p><a class="el" href="esttilt.html#tilt-f0-representation">tilt-f0-representation</a> shows a Schematic representation of F0, intonational event relation and segment relation in the Tilt model. The linguistically relevant parts of the F0 contour, which correspond to intonational events, are circled. The events, labelled a for pitch accent and b for boundary are linked to the syllable nuclei of the syllable relation. Note that every event is linked to a syllable, but some syllables do not have events.</p>
<p>Unlike traditional intonational phonology schemes <b>[ph:thesis]</b>}, <b>[tobi]</b>} which impose a categorical classification on events, Tilt uses a set of continuous parameters. These parameters, collectively known as <em>tilt parameters</em>, are determined from examination of the local shape of the event's F0 contour.</p>
<p>The tilt model is built on a simpler model, the rise/fall/connection (RFC) model.</p>
<p>In the RFC model, each event is modelled by a rise part followed by a fall part. Each part has an amplitude and duration, and two parameters are used to give the time position of the event in the utterance and the F0 height of the event. <a class="el" href="esttilt.html#figure-typical-pitch-accent">figure-typical-pitch-accent</a> shows a typical pitch accent with these parameters marked.</p>
<p><a class="anchor" id="figure-typical-pitch-accent"></a></p><div class="image">
<img src="typical-pitch-accent.svg" alt="typical-pitch-accent.svg"/>
<div class="caption">
Typical pitch accent</div></div>
<p>The RFC parameters for an utterance are therefore:</p>
<ul>
<li>rise amplitude (Hz)</li>
<li>rise duration (seconds)</li>
<li>fall amplitude (Hz)</li>
<li>fall duration (seconds)</li>
<li>position (seconds)</li>
<li>F0 height (Hz)</li>
</ul>
<p>Sometimes events don't have rise or fall parts, and in these cases the amplitude and duration of the missing part is set to 0. The position parameter can be specified in two ways: either as the distance from the start of the utterance, or the distance from the start of the vowel of the associated syllable. The latter is more linguistically meangingful, but as vowel boundaries are not always available, the former is often used.</p>
<p>While the RFC model can accurately describe F0 contours, the mechanism is not ideal in that the RFC parameters for each contour are not as easy to interpret and manipulate as one might like. For instance there are two amplitude parameters for each event, when it would make sense to have only one.</p>
<p>The <em>Tilt</em> representation helps solve these problems by transforming the four amplitude and duration RFC parameters into three Tilt parameters:</p>
<ul>
<li>amplitude (Hz): the sum of the magnitudes of the rise and fall amplitudes.</li>
<li>duration (seconds): the sum of the rise and fall durations.</li>
<li>tilt: a dimensionless number which expresses the overall <em>shape</em> of the event, independent of its amplitude or duration.</li>
</ul>
<p>The position and F0 height parameters are the same as before.</p>
<p>The tilt representation is superior to the RFC representation in that it has fewer parameters without significant loss of accuracy. Importantly, it can be argued that the tilt parameters are more linguistically meaningful.</p>
<p>In describing the tilt model, we use the term <em>analysis</em> to describe the process of producing a tilt representation from an F0 contour, and *synthesis</p><ul>
<li>to describe the process of prodcing a F0 contour from a tilt representation.</li>
</ul>
<h2><a class="anchor" id="esttilt-overview-rfcanalysis"></a>
RFC Analysis</h2>
<h3><a class="anchor" id="esttilt-overview-rfcanalysis-locating"></a>
Locating Events in the F0 contour</h3>
<p>The first stage in analysis is to find the intonational events in an F0 contour. EST does not directly provide a means for doing this. In practice this is either done by hand by a human labeller, or automatically by the <a class="el" href="classHMM.html">HMM</a> auto event labeller. The current <a class="el" href="classHMM.html">HMM</a> event labeller is based on the HTK system and hence can't be part of EST, but an outline of the system follows:</p>
<p>The automatic event detector uses continuous density hidden Markov models to perform a segmentation of the input utterance. A number of units are defined and a <a class="el" href="classHMM.html">HMM</a> is trained on examples of that kind from a pre-labelled training corpus using the Baum-Welch algorithm <b>[baum:72]</b>}. Each utterance in the corpus is acoustically processed so that it can be represented by sequence of evenly spaced frames. Each frame is a multi-component vector representing the acoustic information for the time interval centred around the frame.</p>
<p>Recognition is performed by forming a network comprising the HMMs for each unit in conjunction with an n-gram language model which gives the prior probability of a sequence of n units occurring. To perform recognition on an utterance, the network is searched using the standard Viterbi algorithm to find the most likely path through the network given the input sequence of acoustic vectors.</p>
<p>It is our intention to put a complete event labeller in EST in the future.</p>
<h3><a class="anchor" id="ov-rfc-analysis"></a>
Producing an RFC representation from an utterance's events and F0 contour</h3>
<p>An utterance's events are represented in a relation. Initially, events are stored as regions with start and stop times as this is the most common output format of labellers (both human and automatic).</p>
<p>For example, for utterance kdt_016, a set of basic event labels is as follows (in xlabel format): </p><pre class="fragment">0.290  146 sil
0.480  146 c
0.620  146 a
0.760  146 c
0.960  146 a
1.480  146 c
1.680  146 a
1.790  146 sil
</pre><p>Events are labelled "a", and silences "sil". The use of the "c" label is to allow start times which differ from the end of the previous event. Conceptually, this can alsow be represented as follows: </p><pre class="fragment">name:sil  start:0.0     end:0.290
name:a    start:0.290   end:0.620
name:a    start:0.760   end:0.960
name:a    start:1.480   end:1.680
name:sil  start:1.790   end:1.790
</pre><p>The other component for analysis is the utterance's F0 contour, which is stored in a track. The contour must be continuous (i.e. have no breaks), and its frames must be specified at fixed intervals. For best performance the contour should have been smoothed.</p>
<p>The RFC analysis component takes the approximate labels and the smoothed F0 contour, fits rise and fall shapes, and hence determines an optimal set of RFC parameters for the utterance.</p>
<p>For each event, a peak picking algorithm decides if the event has a rise part only, a fall part only or a rise part followed by a fall part.</p>
<p><a class="anchor" id="tilt-search-region"></a></p><div class="image">
<img src="tilt-search-region.svg" alt="tilt-search-region.svg"/>
<div class="caption">
Tilt search region</div></div>
<p>For each part, a search region, shown in <a class="el" href="esttilt.html#tilt-search-region">tilt-search-region</a>, is defined around the approximate start and end boundaries as defined in the input label file. The search region is controlled by a number of parameters:</p>
<ul>
<li>start_limit: the distance in seconds before each input start boundary that the start search region should begin.</li>
<li>end_limit: the distance in seconds after each input end boundary that the end search region should begin.</li>
<li>range: the end and beginnings of the start and end regions respectively, specified as a fraction of the overall label duration.</li>
</ul>
<p>For example, a pitch accent starts at 1.45 seconds and ends at 1.75 seconds. If the start and end limit are both defined to be 0.1 seconds and the range is 0.4 (40%), then the start region starts at 1.35 seconds and ends at 1.55, and the end region starts at 1.65 and ends at 1.85. The matching algroithm will synthesize every possible shape lying within this region, measure the distance between each and the actual contour, and pick the one with the lowest distance.</p>
<p>The final results of the matching process is a relation of events, each with the 6 RFC parameters are descibed above.</p>
<p>The program <a class="el" href="group__tiltfunctions.html#ga572c345dc50b91802d7d9c9e879d2aea">tilt_analysis</a> will perform RFC matching given a label file and F0 contour. The function <a class="el" href="group__tiltfunctions.html#ga27664333a32066c176f7cce80c8ac289">rfc_analysis</a> takes a F0 contour, a relation and a set of options and returns the RFC parameters in the features of each item in the relation.</p>
<h2><a class="anchor" id="rfc2tilt"></a>
RFC to Tilt Conversion</h2>
<p>The rise and fall RFC parameters can be converted to Tilt parameters using the following equations.</p>
<p><em>Amplitude</em> is the sum of te magnitudes of the rise and fall amplitudes:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ tilt_{amp} = \frac{ \left | A_{rise} \right | - \left | A_{fall}\right |}{ \left | A_{rise} \right | + \left | A_{fall}\right |} \]" src="form_7.png"/>
</p>
<p><em>Duration</em> is the sum of the of the rise and fall durations:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ tilt_{dur} = \frac{ D_{rise} - D_{fall}}{ D_{rise} + D_{fall}} \]" src="form_8.png"/>
</p>
<p><em>Tilt</em> can be measured with respect to amplitude:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ tilt = \frac{ \left | A_{rise} \right | - \left | A_{fall}\right |}{ 2 \left (\left | A_{rise} \right | + \left | A_{fall}\right | \right )} + \frac{ D_{rise} - D_{fall}}{ 2 ( D_{rise} + D_{fall})} \]" src="form_9.png"/>
</p>
<p>or duration:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ A_{event} = \left | A_{rise} \right | + \left | A_{fall} \right | \]" src="form_10.png"/>
</p>
<p>The tilt model assumes that these are strongly correlated so that an average of the two is representative of the shape of the event:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ D_{event} = D_{rise} + D_{fall} \]" src="form_11.png"/>
</p>
<p>The is no stand alone program to do this conversion, but the <a class="el" href="group__tiltfunctions.html#ga572c345dc50b91802d7d9c9e879d2aea">tilt_analysis</a> can do this conversion in addition to performing the RFC matching as described above.</p>
<p>The function <a class="el" href="group__tiltfunctions.html#ga8eef8e84ded512614a144c3c6f44d835">rfc_to_tilt</a> takes a relation containing RFC parameterised items and converts it to a relation containing Tilt paramterised items.</p>
<p>Another function, also called <a class="el" href="group__tiltfunctions.html#ga8eef8e84ded512614a144c3c6f44d835">rfc_to_tilt</a> takes a Features object containing the 4 rise fall parameters and writes the 3 tilt parameters into another features object. This function can be used to do rfc_to_tilt conversion for a single event.</p>
<h2><a class="anchor" id="tilt2rfc"></a>
Tilt to RFC Conversion</h2>
<p>The Tilt parameters can be converted to RFC parameters using the following equations:</p>
<p>Rise amplitude: <a class="anchor" id="tilt-rise-amplitude"></a> </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ A_{rise} = \frac{A_{event} (1 + tilt)}{2} \]" src="form_12.png"/>
</p>
<p>Fall amplitude: <a class="anchor" id="tilt-fall-amplitude"></a> </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ A_{rise} = \frac{A_{event} (1 - tilt)}{2} \]" src="form_13.png"/>
</p>
<p>Rise duration: <a class="anchor" id="tilt-rise-duration"></a> </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ A_{rise} = \frac{D_{event} (1 + tilt)}{2} \]" src="form_14.png"/>
</p>
<p>Fall duration: <a class="anchor" id="tilt-fall-duration"></a> </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ A_{rise} = \frac{D_{event} (1 - tilt)}{2} \]" src="form_15.png"/>
</p>
<p>There is no stand alone program to do this conversion, but the <a class="el" href="group__tiltfunctions.html#ga46f3a4bfe4013757e8dfedf87fa0ea0e">tilt_synthesis</a> can do this conversion in addition to generating a F0 contour.</p>
<p>The function <a class="el" href="group__tiltfunctions.html#ga0cf1f8d8e3e5afc4e0ceb3aeef1f7fb1">tilt_to_rfc</a> takes a relation containing Tilt parameterised items and converts it to a relation containing RFC paramterised items.</p>
<p>Another function, also called <a class="el" href="group__tiltfunctions.html#ga0cf1f8d8e3e5afc4e0ceb3aeef1f7fb1">tilt_to_rfc</a> takes a Features object containing the 3 Tilt parameters and writes the 4 rise fall RFC parameters into another features object. This function can be used to do tilt_to_rfc conversion for a single event.</p>
<h2><a class="anchor" id="ov-rfc-to-tilt"></a>
RFC to F0 Synthesis</h2>
<p>An F0 contour can be generated from a set of RFC parameters using the follwing equations.</p>
<p>Events are generated as piecewise combinations of quadratic functions:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} f_0(t) = A_{abs} + A - 2 A \cdot (t/D)^2 &amp; 0 &lt; t &lt; D/2 \\ f_0(t) = A_{abs} + 2 A \cdot (1-t/D)^2 &amp; D/2 &lt; t &lt; D \end{eqnarray*}" src="form_16.png"/>
</p>
<p>Between events, straight lines are used:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ f_0(t) = A_{abs} + A \cdot (t/D) ~~ 0 &lt; t &lt; D \]" src="form_17.png"/>
</p>
<p>The stand alone program <a class="el" href="group__tiltfunctions.html#ga46f3a4bfe4013757e8dfedf87fa0ea0e">tilt_synthesis</a> can do this conversion. It takes a RFC label file as input and produces a F0 file. This program can also generate a F0 file directly from a Tilt label file</p>
<p>The function <a class="el" href="group__tiltfunctions.html#ga7a66421fab91e5fd4ee835351be5453a">rfc_synthesis</a> takes a relation containing RFC parameterised items and produces a F0 contour in a Track.</p>
<p>The function <a class="el" href="tilt__synthesis_8cc.html#afbe0316adcc5ee0350e1181677707ae1">synthesize_rf_event</a> takes a Features object containing the 4 rise fall RFC parameters and generates the F0 contour for a single event.</p>
<h1>Executable Programs</h1>
<ul>
<li>tilt-analysis_manual: Produces a Tilt or RFC analysis of a F0 contour, given a set label file containing a set of approximate intonational event boundaries.</li>
<li>tilt-synthesis_manual: tilt_synthesis generates a F0 contour, given a label file containing parameterised Tilt or RFC events.</li>
<li>pda_manual: Generates F0 contours</li>
</ul>
<h1>Functions</h1>
<ul>
<li><a class="el" href="group__tiltfunctions.html">Tilt functions</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 6 2017 18:25:31 for Edinburgh Speech Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

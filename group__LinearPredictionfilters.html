<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Edinburgh Speech Tools: Linear Prediction filters</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="est.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Edinburgh Speech Tools
   &#160;<span id="projectnumber">2.1-release</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__LinearPredictionfilters.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Linear Prediction filters<div class="ingroups"><a class="el" href="group__FilterFunctions.html">Filter Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Linear Prediction filters:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__LinearPredictionfilters.png" border="0" alt="" usemap="#group____LinearPredictionfilters"/>
<map name="group____LinearPredictionfilters" id="group____LinearPredictionfilters">
<area shape="rect" id="node1" href="group__FilterFunctions.html" title="Filter Functions" alt="" coords="5,5,117,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8d097aaa8a5af57db0113501cefad13e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LinearPredictionfilters.html#ga8d097aaa8a5af57db0113501cefad13e">lpc_filter</a> (<a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;sig, <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;a, <a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;res)</td></tr>
<tr class="separator:ga8d097aaa8a5af57db0113501cefad13e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa383ecefacc252e95d95e5a970a54689"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LinearPredictionfilters.html#gaa383ecefacc252e95d95e5a970a54689">inv_lpc_filter</a> (<a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;sig, <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;a, <a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;res)</td></tr>
<tr class="separator:gaa383ecefacc252e95d95e5a970a54689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b0e1d22250b5af9beac02c1c45de8bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LinearPredictionfilters.html#ga0b0e1d22250b5af9beac02c1c45de8bd">lpc_filter_1</a> (<a class="el" href="classEST__Track.html">EST_Track</a> &amp;lpc, <a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;res, <a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;sig)</td></tr>
<tr class="separator:ga0b0e1d22250b5af9beac02c1c45de8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88652b8c7db01221bd9954066095045c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LinearPredictionfilters.html#ga88652b8c7db01221bd9954066095045c">lpc_filter_fast</a> (<a class="el" href="classEST__Track.html">EST_Track</a> &amp;lpc, <a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;res, <a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;sig)</td></tr>
<tr class="separator:ga88652b8c7db01221bd9954066095045c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga341676b0d9e3b955b6b027237bbb68c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LinearPredictionfilters.html#ga341676b0d9e3b955b6b027237bbb68c0">inv_lpc_filter_ola</a> (<a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;sig, <a class="el" href="classEST__Track.html">EST_Track</a> &amp;lpc, <a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;res)</td></tr>
<tr class="separator:ga341676b0d9e3b955b6b027237bbb68c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The linear prediction filters are used for the analysis and synthesis of waveforms according the to linear prediction all-pole model.</p>
<p>The linear prediction states that the value of a signal at a given point is equal to a weighted sum of the previous P values, plus a correction value for that point:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[s_{n} = \sum_{i=1}^{P} a_{i}.s_{n-i} + e_{n}\]" src="form_39.png"/>
</p>
<p>Given a set of coefficients and the original signal, we can use this equation to work out e, the <em>residual</em>. Conversely given the coefficients and the residual signal, an estimation of the original signal can be calculated.</p>
<p>If a single set of coefficients were used for the entire waveform, the filtering process would be simple. It is usual however to have a different set of coefficients for every frame, and there are many possible ways to switch from one coefficient set to another so as not to cause discontinuities at the frame boundaries. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga8d097aaa8a5af57db0113501cefad13e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lpc_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synthesize a signal from a single set of linear prediction coefficients and the residual values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>the waveform to be synthesized </td></tr>
    <tr><td class="paramname">a</td><td>a single set of LP coefficients </td></tr>
    <tr><td class="paramname">res</td><td>the input residual waveform </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="filter_8cc_source.html#l00053">53</a> of file <a class="el" href="filter_8cc_source.html">filter.cc</a>.</p>

</div>
</div>
<a class="anchor" id="gaa383ecefacc252e95d95e5a970a54689"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inv_lpc_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Filter the waveform using a single set of coefficients so as to produce a residual signal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>the speech waveform to be filtered </td></tr>
    <tr><td class="paramname">a</td><td>a single set of LP coefficients </td></tr>
    <tr><td class="paramname">res</td><td>the output residual waveform </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="filter_8cc_source.html#l00068">68</a> of file <a class="el" href="filter_8cc_source.html">filter.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b0e1d22250b5af9beac02c1c45de8bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lpc_filter_1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEST__Track.html">EST_Track</a> &amp;&#160;</td>
          <td class="paramname"><em>lpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synthesize a signal from a track of linear prediction coefficients. This function takes a set of LP frames and a residual and produces a synthesized signal.</p>
<p>For each frame, the function picks an end point, which is half-way between the current frame's time position and the next frame's. A start point is defined as being the previous frame's end. Using these two values, a portion of residual is extracted and passed to <a class="el" href="group__LinearPredictionfilters.html#ga8d097aaa8a5af57db0113501cefad13e">lpc_filter</a> along with the LP coefficients for that frame. This function writes directly into the signal for the values between start and end;</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>the waveform to be synthesized </td></tr>
    <tr><td class="paramname">lpc</td><td>a track of time positioned LP coefficients </td></tr>
    <tr><td class="paramname">res</td><td>the input residual waveform </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="filter_8cc_source.html#l00149">149</a> of file <a class="el" href="filter_8cc_source.html">filter.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ga88652b8c7db01221bd9954066095045c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lpc_filter_fast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEST__Track.html">EST_Track</a> &amp;&#160;</td>
          <td class="paramname"><em>lpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synthesize a signal from a track of linear prediction coefficients. This function takes a set of LP frames and a residual and produces a synthesized signal.</p>
<p>This is functionally equivalent to <a class="el" href="group__LinearPredictionfilters.html#ga0b0e1d22250b5af9beac02c1c45de8bd">lpc_filter_1</a> except it reduces the residual by 0.5 before filtering. Importantly it is about three times faster than <a class="el" href="group__LinearPredictionfilters.html#ga0b0e1d22250b5af9beac02c1c45de8bd">lpc_filter_1</a> but in doing so uses direct C buffers rather than the neat C++ access function. This function should be regarded as temporary and will be deleted after we restructure the low level classes to give better access.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>the waveform to be synthesized </td></tr>
    <tr><td class="paramname">lpc</td><td>a track of time positioned LP coefficients </td></tr>
    <tr><td class="paramname">res</td><td>the input residual waveform </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="filter_8cc_source.html#l00197">197</a> of file <a class="el" href="filter_8cc_source.html">filter.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ga341676b0d9e3b955b6b027237bbb68c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inv_lpc_filter_ola </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__Track.html">EST_Track</a> &amp;&#160;</td>
          <td class="paramname"><em>lpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__Wave.html">EST_Wave</a> &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Produce a residual from a track of linear prediction coefficients and a signal using an overlap add technique.</p>
<p>For each frame, the function estimates the local pitch period and picks a start point one period before the current time position and an end point one period after it.</p>
<p>A portion of residual corresponding to these times is then produced using <a class="el" href="group__LinearPredictionfilters.html#gaa383ecefacc252e95d95e5a970a54689">inv_lpc_filter</a>. The resultant section of residual is then overlap-added into the main residual wave object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>the speech waveform to be filtered </td></tr>
    <tr><td class="paramname">lpc</td><td>a track of time positioned LP coefficients </td></tr>
    <tr><td class="paramname">res</td><td>the output residual waveform </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="filter_8cc_source.html#l00102">102</a> of file <a class="el" href="filter_8cc_source.html">filter.cc</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 6 2017 18:25:31 for Edinburgh Speech Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

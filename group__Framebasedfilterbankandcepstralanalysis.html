<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Edinburgh Speech Tools: Frame based filter bank and cepstral analysis</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="est.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Edinburgh Speech Tools
   &#160;<span id="projectnumber">2.1-release</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__Framebasedfilterbankandcepstralanalysis.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Frame based filter bank and cepstral analysis<div class="ingroups"><a class="el" href="group__FunctionsForGeneratingFrames.html">Functions for Generating Frames</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Frame based filter bank and cepstral analysis:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__Framebasedfilterbankandcepstralanalysis.png" border="0" alt="" usemap="#group____Framebasedfilterbankandcepstralanalysis"/>
<map name="group____Framebasedfilterbankandcepstralanalysis" id="group____Framebasedfilterbankandcepstralanalysis">
<area shape="rect" id="node1" href="group__frequencyconversionfunctions.html" title="end of filter bank and cepstral analysis " alt="" coords="448,5,599,47"/>
<area shape="rect" id="node3" href="group__FunctionsForGeneratingFrames.html" title="Functions for Generating\l Frames" alt="" coords="5,5,171,47"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__frequencyconversionfunctions"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frequencyconversionfunctions.html">Frequency conversion functions</a></td></tr>
<tr class="memdesc:group__frequencyconversionfunctions"><td class="mdescLeft">&#160;</td><td class="mdescRight">end of filter bank and cepstral analysis <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7b224004dea57e11ff72f0eceb71725e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga7b224004dea57e11ff72f0eceb71725e">sig2fbank</a> (const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;sig, <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;fbank_frame, const float sample_rate, const <a class="el" href="EST__bool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> use_power_rather_than_energy, const <a class="el" href="EST__bool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> take_log)</td></tr>
<tr class="separator:ga7b224004dea57e11ff72f0eceb71725e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2d7c185e194ced1a2ae7ee05df662ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#gad2d7c185e194ced1a2ae7ee05df662ac">sig2fft</a> (const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;sig, <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;fft_vec, const <a class="el" href="EST__bool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> use_power_rather_than_energy)</td></tr>
<tr class="separator:gad2d7c185e194ced1a2ae7ee05df662ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70c3c095410988beb8ec6f7438baf3f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga70c3c095410988beb8ec6f7438baf3f5">fft2fbank</a> (const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;fft_frame, <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;fbank_vec, const float Hz_per_fft_coeff, const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;mel_fbank_frequencies)</td></tr>
<tr class="separator:ga70c3c095410988beb8ec6f7438baf3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaeefa4a811abc7aacc6259f3525954a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#gaaeefa4a811abc7aacc6259f3525954a3">fbank2melcep</a> (const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;fbank_vec, <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;mfcc, const float liftering_parameter, const <a class="el" href="EST__bool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> include_c0=false)</td></tr>
<tr class="separator:gaaeefa4a811abc7aacc6259f3525954a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fd6bb4437753664fe6b9def7cf3bf86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga8fd6bb4437753664fe6b9def7cf3bf86">make_mel_triangular_filter</a> (const float this_mel_centre, const float this_mel_low, const float this_mel_high, const float Hz_per_fft_coeff, const <a class="el" href="EST__item__content__aux_8cc.html#abb4cfd89f125e300b8fa665de5297b7f">int</a> half_fft_order, <a class="el" href="EST__item__content__aux_8cc.html#abb4cfd89f125e300b8fa665de5297b7f">int</a> &amp;fft_index_start, <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;filter)</td></tr>
<tr class="separator:ga8fd6bb4437753664fe6b9def7cf3bf86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga7b224004dea57e11ff72f0eceb71725e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sig2fbank </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>fbank_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>sample_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="EST__bool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>use_power_rather_than_energy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="EST__bool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>take_log</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the (log) energy (or power) in each channel of a Mel scale filter bank for a frame of speech. The filters are triangular, are evenly spaced and are all of equal width, on a Mel scale. The upper and lower cutoffs of each filter are at the centre frequencies of the adjacent filters. The Mel scale is described under <code>Hz2Mel</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__frequencyconversionfunctions.html#ga779ae841bfbed6939d3b8eb0b1fddf31">Hz2Mel</a> </dd>
<dd>
<a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#gad2d7c185e194ced1a2ae7ee05df662ac">sig2fft</a> </dd>
<dd>
<a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga70c3c095410988beb8ec6f7438baf3f5">fft2fbank</a> </dd></dl>

<p>Definition at line <a class="el" href="sigpr__frame_8cc_source.html#l00538">538</a> of file <a class="el" href="sigpr__frame_8cc_source.html">sigpr_frame.cc</a>.</p>

</div>
</div>
<a class="anchor" id="gad2d7c185e194ced1a2ae7ee05df662ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sig2fft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>fft_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="EST__bool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>use_power_rather_than_energy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the energy (or power) spectrum of a frame of speech. The FFT order is determined by the number of samples in the frame of speech, and is a power of 2. Note that the FFT vector returned corresponds to frequencies from 0 to half the sample rate. Energy is the magnitude of the FFT; power is the squared magnitude.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga70c3c095410988beb8ec6f7438baf3f5">fft2fbank</a> </dd>
<dd>
<a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga7b224004dea57e11ff72f0eceb71725e">sig2fbank</a> </dd></dl>

<p>Definition at line <a class="el" href="sigpr__frame_8cc_source.html#l00590">590</a> of file <a class="el" href="sigpr__frame_8cc_source.html">sigpr_frame.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ga70c3c095410988beb8ec6f7438baf3f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fft2fbank </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>fft_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>fbank_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>Hz_per_fft_coeff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>mel_fbank_frequencies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a Mel filter bank description, bin the FFT coefficients to compute the output of the filters. The first and last elements of <code>mel_fbank_frequencies</code> define the lower and upper bound of the first and last filters respectively and the intervening elements give the filter centre frequencies. That is, <code>mel_fbank_frequencies</code> has two more elements than <code>fbank_vec</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__FastFourierTransformfunctions.html#ga26795b1dca2eed6ce7dc97bdc4a081ac" title="Fast FFT An optimised implementation by Tony Robinson to be used in preference to slowFFT...">fastFFT</a> </dd>
<dd>
<a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#gad2d7c185e194ced1a2ae7ee05df662ac">sig2fft</a> </dd>
<dd>
<a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga7b224004dea57e11ff72f0eceb71725e">sig2fbank</a> </dd>
<dd>
<a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#gaaeefa4a811abc7aacc6259f3525954a3">fbank2melcep</a> </dd></dl>

<p>Definition at line <a class="el" href="sigpr__frame_8cc_source.html#l00635">635</a> of file <a class="el" href="sigpr__frame_8cc_source.html">sigpr_frame.cc</a>.</p>

</div>
</div>
<a class="anchor" id="gaaeefa4a811abc7aacc6259f3525954a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbank2melcep </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>fbank_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>mfcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>liftering_parameter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="EST__bool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>include_c0</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the discrete cosine transform of log Mel-scale filter bank output to get the Mel cepstral coefficients for a frame of speech. Optional liftering (filtering in the cepstral domain) can be applied to normalise the magnitudes of the coefficients. This is useful because, typically, the higher order cepstral coefficients are significantly smaller than the lower ones and it is often desirable to normalise the means and variances across coefficients.</p>
<p>The lifter (cepstral filter) used is: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[c_i' = \{ 1 + \frac{L}{2} sin \frac{\Pi i}{L} \} \; c_i\]" src="form_45.png"/>
</p>
<p>A typical value of L used in speech recognition is 22. A value of L=0 is taken to mean no liftering. This is equivalent to L=1.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#gad2d7c185e194ced1a2ae7ee05df662ac">sig2fft</a> </dd>
<dd>
<a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga70c3c095410988beb8ec6f7438baf3f5">fft2fbank</a> </dd>
<dd>
<a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga7b224004dea57e11ff72f0eceb71725e">sig2fbank</a> </dd></dl>

<p>Definition at line <a class="el" href="sigpr__frame_8cc_source.html#l00684">684</a> of file <a class="el" href="sigpr__frame_8cc_source.html">sigpr_frame.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ga8fd6bb4437753664fe6b9def7cf3bf86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void make_mel_triangular_filter </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>this_mel_centre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>this_mel_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>this_mel_high</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>Hz_per_fft_coeff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="EST__item__content__aux_8cc.html#abb4cfd89f125e300b8fa665de5297b7f">int</a>&#160;</td>
          <td class="paramname"><em>half_fft_order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="EST__item__content__aux_8cc.html#abb4cfd89f125e300b8fa665de5297b7f">int</a> &amp;&#160;</td>
          <td class="paramname"><em>fft_index_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEST__FVector.html">EST_FVector</a> &amp;&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make a triangular Mel scale filter. The filter is centred at <code>this_mel_centre</code> and extends from <code>this_mel_low</code> to <code>this_mel_high</code>. <code>half_fft_order</code> is the length of a power/energy spectrum covering 0Hz to half the sampling frequency with a resolution of <code>Hz_per_fft_coeff</code>.</p>
<p>The routine returns a vector of weights to be applied to the energy/power spectrum starting at element <code>fft_index_start</code>. The number of points (FFT coefficients) covered by the filter is given by the length of the returned vector <code>filter</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Framebasedfilterbankandcepstralanalysis.html#ga70c3c095410988beb8ec6f7438baf3f5">fft2fbank</a> </dd>
<dd>
<a class="el" href="group__frequencyconversionfunctions.html#ga779ae841bfbed6939d3b8eb0b1fddf31">Hz2Mel</a> </dd>
<dd>
<a class="el" href="group__frequencyconversionfunctions.html#gab0f234fd95def8868bccba1100426796">Mel2Hz</a> </dd></dl>

<p>Definition at line <a class="el" href="sigpr__frame_8cc_source.html#l00730">730</a> of file <a class="el" href="sigpr__frame_8cc_source.html">sigpr_frame.cc</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 6 2017 18:25:31 for Edinburgh Speech Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Edinburgh Speech Tools: Example code for Linguistic Classes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="est.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Edinburgh Speech Tools
   &#160;<span id="projectnumber">2.1-release</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ling-example.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Example code for Linguistic Classes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#addingtoestitem">Adding basic information to an EST_Item</a></li>
<li class="level1"><a href="#accessingitem">Accessing basic information in an Item</a></li>
<li class="level1"><a href="#nestedfeatures">Nested feature structures in items</a></li>
<li class="level1"><a href="#utilityfunctions">Utility functions for items</a></li>
<li class="level1"><a href="#buildlinearlist">Building a linear list relation</a></li>
<li class="level1"><a href="#iteratingrelation">Iterating through a linear list relation</a></li>
<li class="level1"><a href="#buildtreerelation">Building a tree relation</a></li>
<li class="level1"><a href="#iteratingtreerelation">Iterating through a tree relation</a></li>
<li class="level1"><a href="#buildmultilinear">Building a multi-linear relation</a></li>
<li class="level1"><a href="#iteratingmultilinear">Iterating through a multi-linear relation</a></li>
<li class="level1"><a href="#relationsinutt">Relations in Utterances</a></li>
<li class="level1"><a href="#additemsmultiplerelations">Adding items into multiple relations</a></li>
<li class="level1"><a href="#changingrelationwithitem">Changing the relation an item is in</a></li>
<li class="level1"><a href="#featurefunctions">Feature functions</a></li>
</ul>
</div>
<div class="textblock"><p>Some examples of usage of linguistic classes <h1><a class="anchor" id="addingtoestitem"></a>
Adding basic information to an EST_Item</h1>
<p>An item such as:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \left [ \begin{array}{ll} \mbox{POS} &amp; \mbox{\emph{Noun}} \\ \mbox{NAME} &amp; \mbox{\emph{example}} \\ \mbox{FOCUS} &amp; \mbox{+} \\ \end{array} \right ] \]" src="form_0.png"/>
</p>
<p>is constructed as follows: (note that the attributes are in capitals by linguistic convention only: attribute names are case sensitive and can be upper or lower case).</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <a class="code" href="classEST__Item.html">EST_Item</a> p;</div><div class="line">  </div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;POS&quot;</span>, <span class="stringliteral">&quot;Noun&quot;</span>);</div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;example&quot;</span>);</div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;FOCUS&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>);</div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;DURATION&quot;</span>, 2.76);</div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;STRESS&quot;</span>, 2);</div><div class="line"></div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>The type of the values in features is a <a class="el" href="classEST__Val.html">EST_Val</a> class, which is a union which can store ints, floats, EST_Strings, void pointers, and <a class="el" href="classEST__Features.html">EST_Features</a>. The overloaded function facility of C++ means that the <a class="el" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">EST_Item::set()</a> can be used for all of these.</p>
<h1><a class="anchor" id="accessingitem"></a>
Accessing basic information in an Item</h1>
<p>When accessing the features, the type must be specified. This is done most easily by using of a series of functions whose type is coded by a capital letter:</p>
<ul>
<li><a class="el" href="classEST__Item.html#a659da33dde5f56f1b2da45b6976492fd">EST_Item::F()</a> : return value as a float.</li>
<li><a class="el" href="classEST__Item.html#a1a07cfebbd405904dcf86887ed3c37fe">EST_Item::I()</a> : return value as an integer.</li>
<li><a class="el" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">EST_Item::S()</a> : return value as a string.</li>
<li><a class="el" href="classEST__Item.html#ac737575f4adfb8ce728c356b35d552d2">EST_Item::A()</a> : return value as a <a class="el" href="classEST__Features.html">EST_Features</a></li>
</ul>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Part of speech for p is &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">S</a>(<span class="stringliteral">&quot;POS&quot;</span>) &lt;&lt; endl;</div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Duration for p is &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#a659da33dde5f56f1b2da45b6976492fd">F</a>(<span class="stringliteral">&quot;DURATION&quot;</span>) &lt;&lt; endl;</div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Stress value for p is &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#a1a07cfebbd405904dcf86887ed3c37fe">I</a>(<span class="stringliteral">&quot;STRESS&quot;</span>) &lt;&lt; endl;</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<pre class="fragment">  Output:
    "Noun"
    2.75
    1</pre><p>A optional default value can be given if a result is always desired</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Part of speech for p is &quot;</span> </div><div class="line">      &lt;&lt; p.<a class="code" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">S</a>(<span class="stringliteral">&quot;POS&quot;</span>) &lt;&lt; endl;</div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Syntactic Category for p is &quot;</span> </div><div class="line">      &lt;&lt; p.<a class="code" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">S</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;Noun&quot;</span>) &lt;&lt; endl; <span class="comment">// noerror</span></div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<h1><a class="anchor" id="nestedfeatures"></a>
Nested feature structures in items</h1>
<p>Nested feature structures such as</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \left [ \begin{array}{ll} \mbox{NAME} &amp; \mbox{\emph{d}} \\ \mbox{PLACE OF ARTICULATION \boxed{1} } &amp; \left [ \begin{array}{ll} \mbox{CORONAL} &amp; \mbox{\emph{+}} \\ \mbox{ANTERIOR} &amp; \mbox{\emph{+}} \\ \end{array} \right ] \\ \mbox{VOICE} &amp; \mbox{\emph{+}} \\ \mbox{CONTINUANT} &amp; \mbox{\emph{--}} \\ \mbox{SONORANT} &amp; \mbox{\emph{--}} \\ \end{array} \right ] \]" src="form_3.png"/>
</p>
<p>can be created in a number of ways:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  </div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>);</div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;VOICE&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>);</div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CONTINUANT&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>);</div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;SONORANT&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>);</div><div class="line"></div><div class="line">  <a class="code" href="classEST__Features.html">EST_Features</a> <a class="code" href="EST__item__aux_8cc.html#a9cfc976f9dd446f763e27d514c11c0a4">f</a>;  </div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION&quot;</span>, f); <span class="comment">// copy in empty feature set here</span></div><div class="line">  </div><div class="line">  p.<a class="code" href="classEST__Item.html#ac737575f4adfb8ce728c356b35d552d2">A</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION&quot;</span>).<a class="code" href="classEST__Features.html#a0f478d4efb79b82b7de7527b7b6029f2">set</a>(<span class="stringliteral">&quot;CORONAL&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>);</div><div class="line">  p.<a class="code" href="classEST__Item.html#ac737575f4adfb8ce728c356b35d552d2">A</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION&quot;</span>).<a class="code" href="classEST__Features.html#a0f478d4efb79b82b7de7527b7b6029f2">set</a>(<span class="stringliteral">&quot;ANTERIOR&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>or by filling the values in an <a class="el" href="classEST__Features.html">EST_Features</a> object and copying it in:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <a class="code" href="classEST__Features.html">EST_Features</a> f2;</div><div class="line">  </div><div class="line">  f2.<a class="code" href="classEST__Features.html#a0f478d4efb79b82b7de7527b7b6029f2">set</a>(<span class="stringliteral">&quot;CORONAL&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>);</div><div class="line">  f2.<a class="code" href="classEST__Features.html#a0f478d4efb79b82b7de7527b7b6029f2">set</a>(<span class="stringliteral">&quot;ANTERIOR&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>);</div><div class="line">  </div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION&quot;</span>, f2);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>Nested features can be accessed by multiple calls to the accessing commands:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Anterior value is: &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#ac737575f4adfb8ce728c356b35d552d2">A</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION&quot;</span>).<a class="code" href="classEST__Features.html#ab80b5c20a21b5425a50ab6251c7de79f">S</a>(<span class="stringliteral">&quot;ANTERIOR&quot;</span>);</div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Coronal value is: &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#ac737575f4adfb8ce728c356b35d552d2">A</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION&quot;</span>).<a class="code" href="classEST__Features.html#ab80b5c20a21b5425a50ab6251c7de79f">S</a>(<span class="stringliteral">&quot;CORONAL&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>The first command is <a class="el" href="classEST__Item.html#ac737575f4adfb8ce728c356b35d552d2">EST_Item::A()</a> because PLACE is a feature structure, and the second command is <a class="el" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">EST_Item::S()</a> because it returns a string (the value or ANTERIOR or CORONAL). A shorthand is provided to extract the value in a single statement:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Anterior value is: &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">S</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION.ANTERIOR&quot;</span>);</div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Coronal value is: &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">S</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION.CORONAL&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>Again, as the last value to be returned is a string <a class="el" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">EST_Item::S()</a> must be used. This shorthand can also be used to set the features:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  </div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION.CORONAL&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>);</div><div class="line">  p.<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION.ANTERIOR&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>this is the easiest and most commonly used method.</p>
<h1><a class="anchor" id="utilityfunctions"></a>
Utility functions for items</h1>
<p>The presence of a attribute can be checked using <a class="el" href="classEST__Item.html#a662537fcaa549bc8425ff6d77f51a3f7">EST_Item::f_present()</a>, which returns true if the attribute is in the item:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;This is true: &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#a662537fcaa549bc8425ff6d77f51a3f7">f_present</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION&quot;</span>);</div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;This is false: &quot;</span> &lt;&lt; p.<a class="code" href="classEST__Item.html#a662537fcaa549bc8425ff6d77f51a3f7">f_present</a>(<span class="stringliteral">&quot;MANNER&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>An attribute can be removed by <a class="el" href="classEST__Item.html#ac6ba4eb8354a7ca8a941fbf998507e25">EST_Item::f_remove</a>.</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  p.<a class="code" href="classEST__Item.html#ac6ba4eb8354a7ca8a941fbf998507e25">f_remove</a>(<span class="stringliteral">&quot;PLACE OF ARTICULATION&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<h1><a class="anchor" id="buildlinearlist"></a>
Building a linear list relation</h1>
<p>It is standard to store the phones for an utterance as a linear list in a <a class="el" href="classEST__Relation.html">EST_Relation</a> object. Each phone is represented by one <a class="el" href="classEST__Item.html">EST_Item</a>, whereas the complete list is stored as a <a class="el" href="classEST__Relation.html">EST_Relation</a>.</p>
<p>The easiest way to build a linear list is by using the <a class="el" href="classEST__Relation.html#a06951685f23b4a9633157ca8d45d2489">EST_Relation::append()</a>, which when called without arguments, makes a new empty <a class="el" href="classEST__Item.html">EST_Item</a>, adds it onto the end of the relation and returns a pointer to it. The information relevant to that phone can then be added to the returned item.</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <a class="code" href="classEST__Relation.html">EST_Relation</a> phones;</div><div class="line">  <a class="code" href="classEST__Item.html">EST_Item</a> *a;</div><div class="line">  </div><div class="line">  a = phones.<a class="code" href="classEST__Relation.html#a87b849f488a55c3af5f1e879cdd22023">append</a>();</div><div class="line">  </div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;f&quot;</span>);</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, <span class="stringliteral">&quot;consonant&quot;</span>);</div><div class="line">  </div><div class="line">  a = phones.<a class="code" href="classEST__Relation.html#a87b849f488a55c3af5f1e879cdd22023">append</a>();</div><div class="line">  </div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;o&quot;</span>);</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, <span class="stringliteral">&quot;vowel&quot;</span>);</div><div class="line">  </div><div class="line">  a = phones.<a class="code" href="classEST__Relation.html#a87b849f488a55c3af5f1e879cdd22023">append</a>();</div><div class="line">  </div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, <span class="stringliteral">&quot;consonant&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>Note that the -&gt; operator is used because the <a class="el" href="classEST__Item.html">EST_Item</a> a is a pointer here. The same pointer variable can be used multiple times because every time <a class="el" href="classEST__Relation.html#a06951685f23b4a9633157ca8d45d2489">EST_Relation::append()</a> is called it allocates a new item and returns a pointer to it.</p>
<p>If you already have a <a class="el" href="classEST__Item.html">EST_Item</a> pointer and want to add it to a relation, you can give it as an argument to <a class="el" href="classEST__Relation.html#a06951685f23b4a9633157ca8d45d2489">EST_Relation::append()</a>, but this is generally inadvisable as it involves some unnecessary copying, and also you have to allocate the memory for the next <a class="el" href="classEST__Item.html">EST_Item</a> pointer yourself every time (if you don't you will overwrite the previous one):</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  a = <span class="keyword">new</span> <a class="code" href="classEST__Item.html">EST_Item</a>;</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;m&quot;</span>);</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, <span class="stringliteral">&quot;consonant&quot;</span>);</div><div class="line">  </div><div class="line">  phones.<a class="code" href="classEST__Relation.html#a87b849f488a55c3af5f1e879cdd22023">append</a>(a);</div><div class="line">  </div><div class="line">  a = <span class="keyword">new</span> <a class="code" href="classEST__Item.html">EST_Item</a>;</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;ei&quot;</span>);</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, <span class="stringliteral">&quot;vowel&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>Items can be prepended in exactly the same way:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line"></div><div class="line">  a = phones.<a class="code" href="classEST__Relation.html#ad1a11024fd37eff7af0538923e328546">prepend</a>();</div><div class="line">  </div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;n&quot;</span>);</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, <span class="stringliteral">&quot;consonant&quot;</span>);</div><div class="line">  </div><div class="line">  a = phones.<a class="code" href="classEST__Relation.html#ad1a11024fd37eff7af0538923e328546">prepend</a>();</div><div class="line">  </div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>);</div><div class="line">  a-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;TYPE&quot;</span>, <span class="stringliteral">&quot;vowel&quot;</span>);</div><div class="line">    </div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<h1><a class="anchor" id="iteratingrelation"></a>
Iterating through a linear list relation</h1>
<p>Iteration in lists is performed with EST_Relation::next() and EST_Relation::prev(), and an <a class="el" href="classEST__Item.html">EST_Item</a>, used as an iteration pointer.</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <a class="code" href="classEST__Item.html">EST_Item</a> *s;</div><div class="line"></div><div class="line">  <span class="keywordflow">for</span> (s = phones.<a class="code" href="classEST__Relation.html#ae1624681ffa9d0a12c52162a5084a0ef">head</a>(); s != 0; s = s-&gt;<a class="code" href="classEST__Item.html#aa5688ff49837311d904142ef224af8de">next</a>())</div><div class="line">    cout &lt;&lt; s-&gt;<a class="code" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">S</a>(<span class="stringliteral">&quot;NAME&quot;</span>) &lt;&lt; endl;</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>Output: </p><pre class="fragment">  name:i    type:vowel
  name:n    type:consonant
  name:f    type:consonant
  name:o    type:vowel
  name:r    type:consonant
  name:m    type:consonant</pre><p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line"></div><div class="line">  <span class="keywordflow">for</span> (s = phones.<a class="code" href="classEST__Relation.html#a455eb2454023c89f1f27a1afd61439d3">tail</a>(); s != 0; s = s-&gt;<a class="code" href="classEST__Item.html#aac2fd176a939fa834367b7227b2e258b">prev</a>())</div><div class="line">    cout &lt;&lt; s-&gt;<a class="code" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">S</a>(<span class="stringliteral">&quot;NAME&quot;</span>) &lt;&lt; endl;</div><div class="line"></div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>Output:</p>
<pre class="fragment">  name:m    type:consonant
  name:r    type:consonant
  name:o    type:vowel
  name:f    type:consonant
  name:n    type:consonant
  name:i    type:vowel</pre><p><a class="el" href="classEST__Relation.html#ae1624681ffa9d0a12c52162a5084a0ef">EST_Relation::head()</a> and <a class="el" href="classEST__Relation.html#a455eb2454023c89f1f27a1afd61439d3">EST_Relation::tail()</a> return <a class="el" href="classEST__Item.html">EST_Item</a> pointers to the start and end of the list. EST_Relation::next() and EST_Relation::prev() returns the next or previous item in the list, and returns <code>0</code> when the end or start of the list is reached. Hence checking for <code>0</code> is a useful termination condition of the iteration. Taking advantage of C shorthand allows us to write:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <span class="keywordflow">for</span> (s = phones.<a class="code" href="classEST__Relation.html#ae1624681ffa9d0a12c52162a5084a0ef">head</a>(); s; s = s-&gt;<a class="code" href="classEST__Item.html#aa5688ff49837311d904142ef224af8de">next</a>())</div><div class="line">    cout &lt;&lt; s-&gt;<a class="code" href="classEST__Item.html#a3464ce9bd3777f7202093fe3a392f282">S</a>(<span class="stringliteral">&quot;NAME&quot;</span>) &lt;&lt; endl;</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<h1><a class="anchor" id="buildtreerelation"></a>
Building a tree relation</h1>
<p>It is standard to store information such as syntax as a tree in a <a class="el" href="classEST__Relation.html">EST_Relation</a> object. Each tree node is represented by one <a class="el" href="classEST__Item.html">EST_Item</a>, whereas the complete tree is stored as a <a class="el" href="classEST__Relation.html">EST_Relation</a>.</p>
<p>The easiest way to build a tree is by using the EST_Relation::append_daughter(), which when called without arguments, makes a new empty <a class="el" href="classEST__Item.html">EST_Item</a>, adds it as a daughter to an existing item and returns a pointer to it. The information relevant to that node can then be added to the returned item. The root node of the tree must be added directly to the <a class="el" href="classEST__Relation.html">EST_Relation</a>.</p>
<p><a class="anchor" id="ling-example-example01"></a> <div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <span class="comment">//@example prog01</span></div><div class="line">  <a class="code" href="classEST__Relation.html">EST_Relation</a> <a class="code" href="rxp_8c.html#aa3265047047fe57a6b51bb3bcf2e3138">tree</a>;</div><div class="line">  <a class="code" href="classEST__Item.html">EST_Item</a> *r, *np, *vp, *n;</div><div class="line">  </div><div class="line">  r = tree.<a class="code" href="classEST__Relation.html#a87b849f488a55c3af5f1e879cdd22023">append</a>();</div><div class="line">  r-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;S&quot;</span>);</div><div class="line">  </div><div class="line">  np = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(r);</div><div class="line">  np-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;NP&quot;</span>);</div><div class="line">  </div><div class="line">  n =  <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(np);</div><div class="line">  n-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;PRO&quot;</span>);</div><div class="line">  </div><div class="line">  n =  <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(n);</div><div class="line">  n-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;John&quot;</span>);</div><div class="line">  </div><div class="line">  vp = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(r);</div><div class="line">  vp-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;VP&quot;</span>);</div><div class="line">  </div><div class="line">  n = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(vp);</div><div class="line">  n-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;VERB&quot;</span>);</div><div class="line">  n = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(n);</div><div class="line">  n-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;loves&quot;</span>);</div><div class="line">  </div><div class="line">  np = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(vp);</div><div class="line">  np-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;NP&quot;</span>);</div><div class="line">  </div><div class="line">  n = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(np);</div><div class="line">  n-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;DET&quot;</span>);</div><div class="line">  n = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(n);</div><div class="line">  n-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;the&quot;</span>);</div><div class="line">  </div><div class="line">  n = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(np);</div><div class="line">  n-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;CAT&quot;</span>, <span class="stringliteral">&quot;NOUN&quot;</span>);</div><div class="line">  n = <a class="code" href="group__treebuildfunctions.html#ga71396628aee8f1ab3b8074ef9510a370">append_daughter</a>(n);</div><div class="line">  n-&gt;<a class="code" href="classEST__Item.html#a41d4eccc3d4f78190847a5165791268c">set</a>(<span class="stringliteral">&quot;NAME&quot;</span>, <span class="stringliteral">&quot;woman&quot;</span>);</div><div class="line">  </div><div class="line">  cout &lt;&lt; <a class="code" href="rxp_8c.html#aa3265047047fe57a6b51bb3bcf2e3138">tree</a>;</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>Output:</p>
<pre class="fragment">(S 
   (NP 
      (N (John))
   )
   (VP 
      (V (loves)) 
      (NP 
         (DET the) 
         (NOUN woman))
   )
)</pre><p>Obviously, the use of recursive functions in building trees is more efficient and would eliminate the need for the large number of temporary variables used in the above example.</p>
<h1><a class="anchor" id="iteratingtreerelation"></a>
Iterating through a tree relation</h1>
<p>Iteration in trees is done with EST_Relation::daughter1() EST_Relation::daughter2() EST_Relation::daughtern() and EST_Relation::parent(). Pre-order traversal can be achieved iteratively as follows:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  n = tree.head();             <span class="comment">// initialise iteration variable to head of tree </span></div><div class="line">  <span class="keywordflow">while</span> (n)</div><div class="line">    {</div><div class="line">      <span class="keywordflow">if</span> (<a class="code" href="group__treetraversalfunctions.html#ga0f79d15bb50c8b16260282e1b3026a91">daughter1</a>(n) != 0) <span class="comment">// if daughter exists, make n its daughter </span></div><div class="line">        n = <a class="code" href="group__treetraversalfunctions.html#ga0f79d15bb50c8b16260282e1b3026a91">daughter1</a>(n);</div><div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n-&gt;<a class="code" href="classEST__Item.html#aa5688ff49837311d904142ef224af8de">next</a>() != 0)<span class="comment">//otherwise visit its sisters </span></div><div class="line">        n = n-&gt;<a class="code" href="classEST__Item.html#aa5688ff49837311d904142ef224af8de">next</a>();</div><div class="line">      <span class="keywordflow">else</span>                    <span class="comment">// if no sisters are left, go back up the tree </span></div><div class="line">    {                       <span class="comment">// until a sister to a parent is found </span></div><div class="line">      <span class="keywordtype">bool</span> found=<a class="code" href="EST__bool_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line">      <span class="keywordflow">for</span> (<a class="code" href="classEST__Item.html">EST_Item</a> *pp = <a class="code" href="group__treetraversalfunctions.html#ga4ca89cc26d3cd32a41d6263241b4107d">parent</a>(n); pp != 0; pp = <a class="code" href="group__treetraversalfunctions.html#ga4ca89cc26d3cd32a41d6263241b4107d">parent</a>(pp))</div><div class="line">        <span class="keywordflow">if</span> (pp-&gt;next())</div><div class="line">          {</div><div class="line">        n = pp-&gt;<a class="code" href="classEST__Item.html#aa5688ff49837311d904142ef224af8de">next</a>();</div><div class="line">        found=<a class="code" href="EST__bool_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">          }</div><div class="line">      <span class="keywordflow">if</span> (!found)</div><div class="line">        {</div><div class="line">          n = 0;</div><div class="line">          <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">      cout &lt;&lt; *n;</div><div class="line">    }</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>A special set of iterators are available for traversal of the leaf (terminal) nodes of a tree:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <span class="comment">//@ example prog02</span></div><div class="line">  <span class="comment">//@ title Leaf iteration</span></div><div class="line"></div><div class="line">  <span class="keywordflow">for</span> (s = <a class="code" href="group__treetraversalfunctions.html#gab785e451a9ee7bbf8e14ec86d1511526">first_leaf</a>(tree.head()); s != <a class="code" href="group__treetraversalfunctions.html#gad46c74ac10346597a79c249828781b85">last_leaf</a>(tree.head()); </div><div class="line">       s = <a class="code" href="group__treetraversalfunctions.html#ga88a2d751540440fdc66b519b4865bf95">next_leaf</a>(s))</div><div class="line">    cout &lt;&lt; s-&gt;S(<span class="stringliteral">&quot;NAME&quot;</span>) &lt;&lt; endl;</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<h1><a class="anchor" id="buildmultilinear"></a>
Building a multi-linear relation</h1>
<p>This is not yet fully implemented?</p>
<h1><a class="anchor" id="iteratingmultilinear"></a>
Iterating through a multi-linear relation</h1>
<p>This is not yet fully implemented?</p>
<h1><a class="anchor" id="relationsinutt"></a>
Relations in Utterances</h1>
<p>The <a class="el" href="classEST__Utterance.html">EST_Utterance</a> class is used to store all the items and relations relevant to a single utterance. (Here utterance is used as a general linguistic entity - it doesn't have to relate to a well formed complete linguistic unit such as a sentence or phrase).</p>
<p>Instead of storing relations separately, they are stored in utterances:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <a class="code" href="classEST__Utterance.html">EST_Utterance</a> utt;</div><div class="line">  </div><div class="line">  utt.<a class="code" href="classEST__Utterance.html#abd933af13ba34a60d28c3d3a6645bf57">create_relation</a>(<span class="stringliteral">&quot;Word&quot;</span>);</div><div class="line">  utt.<a class="code" href="classEST__Utterance.html#abd933af13ba34a60d28c3d3a6645bf57">create_relation</a>(<span class="stringliteral">&quot;Syntax&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>EST_Relations can be accessed though the utterance object either directly or by use of a temporary <a class="el" href="classEST__Relation.html">EST_Relation</a> pointer:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <a class="code" href="classEST__Relation.html">EST_Relation</a> *word, *syntax;</div><div class="line">  </div><div class="line">  word = utt.<a class="code" href="classEST__Utterance.html#a2a426d9839cbe0aa744bb649a91efd64">relation</a>(<span class="stringliteral">&quot;Word&quot;</span>);</div><div class="line">  syntax = utt.<a class="code" href="classEST__Utterance.html#a2a426d9839cbe0aa744bb649a91efd64">relation</a>(<span class="stringliteral">&quot;Syntax&quot;</span>);</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>The contents of the relation can be filled by the methods described above.</p>
<h1><a class="anchor" id="additemsmultiplerelations"></a>
Adding items into multiple relations</h1>
<p>A major aspect of this system is that an item can be in two relations at once, as shown in <a class="el" href="estling.html#estling-figure-6-2">Figure 6-2</a>.</p>
<p>In the following example, using the syntax relation as already created in <a class="el" href="ling-example.html#ling-example-example01">prog01</a>, shows how to put the terminal nodes of this tree into a word relation:</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  <span class="comment">//@example prog03</span></div><div class="line">  <span class="comment">//@title adding existing items to a new relation</span></div><div class="line">  word = utt.<a class="code" href="classEST__Utterance.html#a2a426d9839cbe0aa744bb649a91efd64">relation</a>(<span class="stringliteral">&quot;Word&quot;</span>);</div><div class="line">  syntax = utt.<a class="code" href="classEST__Utterance.html#a2a426d9839cbe0aa744bb649a91efd64">relation</a>(<span class="stringliteral">&quot;Syntax&quot;</span>);</div><div class="line">  </div><div class="line">  <span class="keywordflow">for</span> (s = <a class="code" href="group__treetraversalfunctions.html#gab785e451a9ee7bbf8e14ec86d1511526">first_leaf</a>(syntax-&gt;<a class="code" href="classEST__Relation.html#ae1624681ffa9d0a12c52162a5084a0ef">head</a>()); s != <a class="code" href="group__treetraversalfunctions.html#gad46c74ac10346597a79c249828781b85">last_leaf</a>(syntax-&gt;<a class="code" href="classEST__Relation.html#ae1624681ffa9d0a12c52162a5084a0ef">head</a>()); </div><div class="line">       s = <a class="code" href="group__treetraversalfunctions.html#ga88a2d751540440fdc66b519b4865bf95">next_leaf</a>(s))</div><div class="line">    word-&gt;<a class="code" href="classEST__Relation.html#a87b849f488a55c3af5f1e879cdd22023">append</a>(s);</div><div class="line">  </div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>Thus the terminal nodes in the syntax relation are now stored as a linear list in the word relation.</p>
<p>Hence</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  cout &lt;&lt; *utt.<a class="code" href="classEST__Utterance.html#a2a426d9839cbe0aa744bb649a91efd64">relation</a>(<span class="stringliteral">&quot;Syntax&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>produces</p>
<p>Output: </p><pre class="fragment">(S 
   (NP 
      (N (John))
   )
   (VP 
      (V (loves)) 
      (NP 
         (DET the) 
         (NOUN woman))
   )
)</pre><p>whereas</p>
<p><div class="fragment"><div class="line">  <span class="comment">//@ code</span></div><div class="line">  cout &lt;&lt; *utt.<a class="code" href="classEST__Utterance.html#a2a426d9839cbe0aa744bb649a91efd64">relation</a>(<span class="stringliteral">&quot;Word&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  <span class="comment">//@ endcode</span></div></div><!-- fragment --></p>
<p>produces</p>
<p>Output </p><pre class="fragment">John
loves
the
woman</pre><h1><a class="anchor" id="changingrelationwithitem"></a>
Changing the relation an item is in</h1>
<p>Even if an item is in more than one relation, it always has the idea of a "current" relation. If the traversal functions (next, previous, parent etc) are called, traversal always occurs with respect to the current relation. An item's current relation can be changed as follows:</p>
<div class="fragment"><div class="line">s = utt.<a class="code" href="classEST__Utterance.html#a2a426d9839cbe0aa744bb649a91efd64">relation</a>(<span class="stringliteral">&quot;Word&quot;</span>)-&gt;<a class="code" href="classEST__Relation.html#ae1624681ffa9d0a12c52162a5084a0ef">head</a>(); <span class="comment">// set p to first word</span></div><div class="line">s = next(s); <span class="comment">// get next word: s = parent(s) would throw an error as there </span></div><div class="line">             <span class="comment">// is no parent to s in the word relation.</span></div><div class="line">s = prev(s); <span class="comment">// get previous word </span></div><div class="line">s = s-&gt;as_relation(<span class="stringliteral">&quot;Syntax&quot;</span>); <span class="comment">// change relation.</span></div><div class="line">s = <a class="code" href="group__treetraversalfunctions.html#ga4ca89cc26d3cd32a41d6263241b4107d">parent</a>(s); <span class="comment">// get parent of s in syntax relation</span></div><div class="line">s = <a class="code" href="group__treetraversalfunctions.html#ga0f79d15bb50c8b16260282e1b3026a91">daughter1</a>(s); <span class="comment">// get first daughter of s: s = next(s) would throw an </span></div><div class="line">                  <span class="comment">// error as there is no next to s in the syntax relation. </span></div></div><!-- fragment --><p>while s is still the same item, the current relation is now "Syntax". The current relation is returned by the <a class="el" href="classEST__Item.html#ac6b03d0916cd5b51c0ec8e704911559d" title="The relation of this particular item. ">EST_Item::relation()</a> function: </p><div class="fragment"><div class="line">cout &lt;&lt; <span class="stringliteral">&quot;Name of current relation: &quot;</span> &lt;&lt; s-&gt;relation()-&gt;name() &lt;&lt; endl;</div></div><!-- fragment --><p>If you aren't sure whether an item is in a relation, you can check with <a class="el" href="classEST__Item.html#aa74d5a2afeb49d209bdba7cdfabe96bc" title="TRUE if this item is in named relation. ">EST_Item::in_relation()</a>. This will return true if an item is in the requested relation regardless of what the current relation is. </p><div class="fragment"><div class="line">cout &lt;&lt; <span class="stringliteral">&quot;P is in the syntax relation: &quot;</span> &lt;&lt; s-&gt;in_relation(<span class="stringliteral">&quot;Word&quot;</span>) &lt;&lt; endl;</div><div class="line">cout &lt;&lt; <span class="stringliteral">&quot;Relations: &quot;</span> &lt;&lt; s-&gt;relations() &lt;&lt; endl; </div></div><!-- fragment --><h1><a class="anchor" id="featurefunctions"></a>
Feature functions</h1>
<p>evaluate functions</p>
<p>setting functions </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 6 2017 18:25:31 for Edinburgh Speech Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
